!function (n) {
    !function () {
        for (var n = 0, i = ["webkit", "moz", "ms", "o"], e = 0; e < i.length && !window.requestAnimationFrame; ++e)window.requestAnimationFrame = window[i[e] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[i[e] + "CancelAnimationFrame"] || window[i[e] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function (i, e) {
            var o = (new Date).getTime(), a = Math.max(0, 16.7 - (o - n)), t = window.setTimeout(function () {
                i(o + a)
            }, a);
            return n = o + a, t
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (n) {
            clearTimeout(n)
        })
    }()
}(window.jQuery || window);
!function (t) {
    function e(t, e, o) {
        t.save(), t.beginPath();
        var r = e[0], a = e.length;
        t.moveTo(r[0], r[1]);
        for (var n = 1; a > n; n++)r = e[n], t.lineTo(r[0], r[1]);
        a > 2 && (r = e[0], t.lineTo(r[0], r[1])), t.closePath(), o.fill ? (t.fillStyle = o.color, t.fill()) : (t.strokeStyle = o.color, t.stroke()), t.restore()
    }

    function o(t, e, o) {
        for (var a, n, l, i = [], s = 0; o > s; s++)l = -Math.PI / 2 + s * e, a = r(t * Math.cos(l)), n = r(t * Math.sin(l)), i.push([a, n]);
        return i
    }

    function r(t) {
        return Number(t.toFixed(2))
    }

    function a(t) {
        for (var e, o = 1, r = t.length, a = t[0]; r > o; o++)e = t[o], a = Math.max(a, e);
        var n = 5, l = 10, i = Math.ceil(a / (l * (n - 1))) * l;
        return a = i * (n - 1), {max: a, step: i, steps: n}
    }

    function n(t, e, o, a) {
        var n, l, i = a.outD;
        l = a.max;
        var s, f, h, u, c = [];
        for (n = 0; e > n; n++)h = -Math.PI / 2 + n * t, u = i * o[n] / l, s = r(u * Math.cos(h)), f = r(u * Math.sin(h)), c.push([s, f]);
        return c
    }

    function l(t, e, o) {
        t.save();
        for (var r, a, n = o.steps, l = 0, i = o.step; n > l; l++)r = Math.floor(i * l) + "", a = [0, -e[l] + 5], t.fillText(r, 10, a[1]);
        t.restore()
    }

    function i(t, e, o) {
        var r = o.labels, a = o.font;
        t.save();
        for (var n, l, i, s, f, h = 0, u = e.length; u > h; h++) {
            n = r[h], i = t.measureText(n.txt).width, l = e[h], s = l[0], f = l[1], 0 > s ? s -= i : s > 0 ? s += 0 : s = -i / 2;
            var c = a.offset.y;
            f > 0 ? f += a.size + c : 0 > f && (f -= c), t.font = o.fontStyle, t.fillStyle = n.color, t.fillText(n.txt, s, f)
        }
        t.restore()
    }

    t.radarChartJs = {
        init: function (t) {
            var s, f, h, u, c, v, d, m, p = {}, g = t.size || {}, M = t.labelWidth, x = t.steps, w = document.createElement("canvas");
            d = w.getContext("2d");
            var y = t.font;
            t.fontStyle = d.font = [y.size, "px", " ", y.family].join(""), console.log(d.font), w.width = g[0] || 0, w.height = g[1] || 0, s = Math.ceil(Math.min(w.width - 2 * M, w.height - 2 * (y.size + y.offset.y)) / 2), f = w.width / 2, h = w.height / 2, d.translate(f, h), u = t.data;
            var C = u[0];
            c = C.length;
            var b, T, D = [0];
            v = 2 * Math.PI / c, m = 1;
            for (var P = []; x >= m; m++)b = r(s * m / x), D.push(b), T = o(b, v, c), P.push(T);
            var S = T, z = [];
            for (m = T.length - 1; m > -1; m--)z.push([[0, 0], T[m]]);
            var I = a(C);
            I.outD = s;
            var j = n(v, c, C, I);
            return p.canvas = w, p.draw = function (o) {
                o && d.clearRect(-f, -h, g[0], g[1]);
                var r;
                for (r = P.length - 1; r > -1; r--)e(d, P[r], {color: t.baseColor});
                for (i(d, S, t), r = S.length - 1; r > -1; r--)e(d, z[r], {color: t.baseColor});
                if (l(d, D, I), o) {
                    var a = o.speed || .01, u = o.tmpD || a * s, m = o.aCount || 0;
                    if (u >= s && (u = s), m++, I.outD = u, j = n(v, c, C, I), e(d, j, {
                            color: t.chartColor,
                            fill: !0
                        }), u >= s)return;
                    u += a * s + .1 * m * m, o.tmpD = u, o.speed = a, o.aCount = m, p.animateId = requestAnimationFrame(function () {
                        p.draw(o)
                    })
                } else e(d, j, {color: t.chartColor, fill: !0});
                return p
            }, p
        }
    }
}(window.jQuery || window);
var browser = {
    versions: function () {
        var e = navigator.userAgent, i = {};
        return i.webKit = e.indexOf("AppleWebKit") > -1, i.uc = e.indexOf("UCBrowser") > -1, i.android = e.indexOf("Android") > -1 || e.indexOf("UCBrowser") > -1 && e.indexOf("Linux;") > -1, i.iosMobile = !!navigator.userAgent.match(/iPhone|iPad|iPod/i), i.mobile = i.iosMobile || i.android || !!navigator.userAgent.match(/IEMobile/i) || !!navigator.userAgent.match(/Opera Mini/i) || !!navigator.userAgent.match(/BlackBerry/i), i
    }()
};
!function () {
    for (var e, i = function () {
    }, t = ["assert", "clear", "count", "debug", "dir", "dirxml", "error", "exception", "group", "groupCollapsed", "groupEnd", "info", "log", "markTimeline", "profile", "profileEnd", "table", "time", "timeEnd", "timeStamp", "trace", "warn"], a = t.length, s = window.console = window.console || {}; a--;)e = t[a], "m.euming.com" == location.host ? s[e] = i : s[e] || (s[e] = i)
}(), function (e) {
    e.support.filereader = !!(window.File && window.FileReader && window.FileList && window.Blob), e.getJs = function (i) {
        var t = i.ns || window, a = i.varName, s = i.ajaxOpt;
        t[a] ? e.isFunction(s.success) && s.success() : e.cachedScript(i.url, s)
    }, e.cachedScript = function (i, t) {
        return t = e.extend(t || {}, {dataType: "script", cache: !0, url: i}), e.ajax(t)
    }, e.getCss = function (i) {
        var t = i.id, a = i.ajaxOpt;
        if (null != document.getElementById(t))e.isFunction(a.success) && a.success(); else {
            var s = a.success;
            a.success = function (i) {
                e(['<style type="text/css" id="', t, '">', i, "</style>"].join("")).appendTo(document.head), e.isFunction(s) && s()
            }, e.cachedCss(i.url, a)
        }
    }, e.cachedCss = function (i, t) {
        var t = e.extend(t || {}, {dataType: "text", cache: !0, url: i});
        return e.ajax(t)
    }
}(jQuery), jQuery.fn.extend({
    clearVal: function (e) {
        var i = this[0];
        i.outerHTML ? i.outerHTML = i.outerHTML : i.value = ""
    }
}), $(function () {
    var e = function () {
        var e = $(window).height();
        return [".fullScreen.ui-page,.fullScreen{min-height:", e, "px;}", ".ui-page>.ui-content{min-height:", e - 300, "px;}", ".fullScreen.ui-page .content{min-height:", e - 80, "px;}", ".fullScreen.ui-page .content textarea.single{min-height:280px;width:100%;}"].join("")
    };
    $(['<style id="fullScreenStyle">', e(), "</style>"].join("")).appendTo(document.head), $(window).on("throttledresize", function () {
        $("#fullScreenStyle").html(e())
    })
});
var viewJs = {};
viewJs.typesetting = function (e) {
    return null == e ? "" : "&nbsp;&nbsp;&nbsp;" + e.replace(/\n/g, "<br>&nbsp;&nbsp;&nbsp;")
}, viewJs.setSexMarkCls = function (e, i) {
    var t;
    return t = "2" == e.type ? "isEnterprise" : mainJs.parseSexToWord(e.sex), null == i ? t : void i.removeClass("man woman unkown isEnterprise").addClass(t)
}, viewJs.maskBusy = function (e, i) {
    var t = arguments.callee.showKeys, a = $("#maskBusy-overlay");
    0 == a.length && (a = $('<div class="modalWindow" id="maskBusy-overlay"></div>'), $(document.body).append(a));
    for (var s, r, n, o = arguments.callee.maskMap, l = t.length - 1; l > -1; l--)if (r = t[l], o[r]) {
        n = !0;
        break
    }
    for (var l = t.length - 1; l > -1; l--)if (r = t[l], r == i) {
        s = !0;
        break
    }
    n || a.find(".modal-loading").remove(), s && a.append(['<div id="mask_', r, '" class="modal-loading ui-footer-fixed">', e || "加载中", "</div>"].join("")), a.show(), null != i && (o[i] = (new Date).getTime())
}, viewJs.maskBusy.maskMap = {}, viewJs.maskBusy.showKeys = ["watchPosition", "reading-img", "ajaxForm", "submitService", "pre-reading"], viewJs.hideBusyMask = function (e) {
    var i, t = !0;
    null != e && (null != viewJs.maskBusy.maskMap && (i = viewJs.maskBusy.maskMap[e], delete viewJs.maskBusy.maskMap[e]), null == viewJs.maskBusy.maskMap || $.isEmptyObject(viewJs.maskBusy.maskMap) || (t = !1));
    var a;
    null != i && (a = (new Date).getTime() - i), null != a ? (console.log(e + " cost " + a + "ms"), a = Math.max(500, 1e3 - a)) : a = 0, t && (viewJs.maskBusy.maskMap = {}, $(".modalWindow").hide(a))
}, $(function () {
    viewJs.loadJs({varName: "loadingJs", url: "/js/plugin/loading/loading.js", title: "loading组件"})
}), viewJs._formatUrlRegex = /https?:\/\/[^(\s)]+\s/g, viewJs._formatUrlRegex2 = /< ?:\/\/[^(\s)]+\s/g, viewJs.formatUrl = function (e) {
    return e
}, viewJs.isLockVerifyIdentity = function (e) {
    return 0 == e || 3 == e ? null : 1 == e ? "您已通过身份认证" : "身份认证正在审核中"
}, viewJs.isEnterpriseVerifyIdentity = function () {
    var e = dmJs.sStore.getUserInfo();
    return null == e ? !1 : (e = e.user, 1 == e.isIdcardValidated && 2 == e.type)
}, viewJs.getReviewCmp = function (e, i, t) {
    var a = dmJs.calGrade(e);
    a.user > 0 ? i.addClass("isBtn") : i.removeClass("isBtn");
    var s = i.find(".star");
    s.empty();
    var r = viewJs.getStars(a);
    return s.append($(r.join(""))), a.grade > 0 && i.find(".score").html(Number(a.grade).toFixed(1)), i.find(".reviewNumbers").html(a.user > 0 ? a.user + "人评价" : "暂无评价"), i.data("reviewNumbers", e), i.data("extra", t), i
}, viewJs.keepHeight = function () {
}, viewJs.setDfReviewNumbers = function (e) {
}, viewJs.getStars = function (e) {
    for (var i = 0, t = []; 5 > i; i++)t.push(i <= e.grade - 1 ? '<div class="starImg full"></div>' : i == e.halfStar ? '<div class="starImg half"></div>' : '<div class="starImg empty"></div>');
    return t
}, viewJs.formatMoney = function (e) {
    return Number(e).toFixed(2)
}, viewJs.fSyncVeryUserStatus = function (e) {
    var i, t, a = e.length;
    if (0 != a) {
        var s = dmJs.sStore.getUserInfo();
        if (s) {
            for (var r = (s.user, {}), n = a - 1; n > -1; n--)t = e[n], i = t.type, (10 == i || 11 == i) && (r = viewJs.fCompareVeryUserCreTime(r, t));
            r.creTime && dmJs.sStore.syncUser(s.accessToken)
        }
    }
}, viewJs.fCompareVeryUserCreTime = function (e, i) {
    var t = e.creTime, a = i.creTime;
    return t && (!a || t > a) ? e : i
}, viewJs.onVRadioChange = function (e) {
    var i = $(e);
    i.parents(".vRadioGrp:first").find(".selected").removeClass("selected"), i.addClass("selected")
}, viewJs.showConfirmFinishPay = function (e, i, t) {
    viewJs.dialogPop("支付已完成？", function (a) {
        viewJs.afterConfirmFinishPay(e, i, {isOK: a, error: t})
    }, "支付确认", {noText: "遇到问题", okText: "完成"})
}, viewJs.showUnionPay = function (e, i) {
    var t = $("#unionPayDialog");
    0 == t.length && (t = $(['<div id="unionPayDialog"  class="dlgunionPayPop-overlay">', '<div class="dlgPop-box ui-footer-fixed">', '<div class="dlg-header">', "银联支付", "</div>", '<div class="dlg-content">', '<a data-role="button" data-theme="b" id="payByUnionPluginBtn"></a>', '<a href="', unionSupport.pluginUrl, '" data-role="button" data-theme="b">下载银联控件</a>', '<a data-role="button" data-theme="b" id="finishUnionPayButton">支付完成</a>', "</div>", "</div>", "</div>"].join("")).appendTo(document.body));
    var a = unionSupport.generateTag(e.unionpayTn, location.protocol + "//" + location.host + "/", !1);
    t.find("#payByUnionPluginBtn").replaceWith(a.attr("id", "payByUnionPluginBtn")), t.appendTo($.mobile.activePage).enhanceWithin(), t.data("params", e), t.find("#finishUnionPayButton").unbind("click").bind("click", function () {
        var e = arguments.callee;
        e.busy || (e.busy = !0, setTimeout(function () {
            e.busy = !1
        }, 700), t.fadeOut(), $.isFunction(i) ? viewJs.afterConfirmFinishPay(null, i) : viewJs.navigator.pre())
    }), viewJs.top(), t.show()
}, viewJs.top = function () {
    $(window).scrollTop(1)
}, viewJs.afterConfirmFinishPay = function (e, i, t) {
    var a = arguments;
    dmJs.sStore.syncBalance(function () {
        if (!t)return $.isFunction(i) ? void i.apply(null, a) : void viewJs.navigator.next(null != e && null != e.serviceID ? {
            next: {
                url: "./service.html",
                id: "startPage",
                options: {data: {serviceID: e.serviceID}}
            }
        } : {next: {url: "./", id: "startPage"}});
        if (t.isOK) {
            if ($.isFunction(i))return void i()
        } else if ($.isFunction(t.error))return void t.error()
    })
}, viewJs.createSlideImgs = function (e, i, t, a, s) {
    function r(e, i) {
        var e = e ? e : 0, i = i ? i : 0;
        $(this).css({
            "z-index": 9,
            "-webkit-transition": " all " + i,
            "-moz-transition": " all " + i,
            "-ms-transition": " all " + i,
            "-o-transition": " all " + i,
            transition: " all " + i,
            "-ms-transform": "translateX(" + e + ")",
            "-moz-transform": "translateX(" + e + ")",
            "-webkit-transform": "translateX(" + e + ")",
            transform: "translateX(" + e + ")"
        })
    }

    function n(e) {
        if (p.is(":hidden"))return clearTimeout(c.toggleImgHandler), void(c.toggleImgHandler = setTimeout(n, 5e3));
        if (e) {
            var i = m - 1, t = ($(window).width(), p.find('[iIndex="' + w % m + '"]')), a = p.find('[iIndex="' + (w + i) % m + '"]');
            r.apply(t), r.apply(a, ["-100%"]), setTimeout(function () {
                r.apply(t, ["100%", ".5s"]), r.apply(a, [0, ".5s"])
            }, 50), m > 1 && (J.find(".current").removeClass("current"), J.find('[iIndex="' + (w + i) % m + '"]').addClass("current")), w += i
        } else {
            var t = ($(window).width(), p.find('[iIndex="' + w % m + '"]')), a = p.find('[iIndex="' + (w + 1) % m + '"]');
            r.apply(t), r.apply(a, ["100%"]), setTimeout(function () {
                r.apply(t, ["-100%", ".5s"]), r.apply(a, [0, ".5s"])
            }, 50), m > 1 && (J.find(".current").removeClass("current"), J.find('[iIndex="' + (w + 1) % m + '"]').addClass("current")), ++w
        }
        m > 1 && (clearTimeout(c.toggleImgHandler), c.toggleImgHandler = setTimeout(n, 5e3))
    }

    function o() {
        l(), b = setTimeout(function () {
            j = !1
        }, 600)
    }

    function l() {
        clearTimeout(b), j = !0
    }

    var d, u = window.sliderMap;
    null == u && (u = window.sliderMap = {});
    var c = u[t];
    null == c ? c = u[t] = {} : (c.remove(), delete u[t], c = u[t] = {}), c.remove = function () {
        clearTimeout(this.toggleImgHandler)
    };
    var v, m = e.length, g = 0, f = [];
    i.empty().html(['<div class="slideImgsCtr" style="width:100%">', '<div class="slideImgs">', "</div>", 1 == m ? "" : ['<table class="imgSliderBtns">', "<tbody>", "<tr></tr></tbody>", "</table>"].join(""), "</div>"].join(""));
    var p = i.find(".slideImgs"), h = $(window).width(), w = 0, J = i.find(".imgSliderBtns tr");
    J.empty();
    var h = $(window).width(), y = Math.floor(Math.min(h / a.width * a.height, a.height));
    for (p.height(y); m > g; g++)v = e[g], f.push('<div class="slide slider item" style="height:', y, "px;left:", 0, "%;background-image:url(", v, ')" iIndex="', g, '"></div>'), m > 1 && J.append(['<td class="svrImgSlider', 0 == g ? " current" : "", '" iIndex="', g, '"></td>'].join(""));
    p.append(f.join(""));
    var b, j = !1;
    return d = function (e) {
        i.unbind("touchstart touchend"), i.find(".slide.item").unbind("swipeleft swiperight touchend vclick"), e && (i.on("touchstart touchend", function (e) {
            e.preventDefault(), e.stopPropagation()
        }), i.find(".slide.item").on("swipeleft swiperight", function (e) {
            l(), clearTimeout(c.toggleImgHandler), n("swiperight" == e.type), o()
        }).on("touchend vclick", function (e) {
            e.preventDefault(), e.stopPropagation(), j || $(this).trigger("sliderClick")
        }))
    }, m > 1 ? (c.toggleImgHandler = setTimeout(n, 5e3), p.slider = c, d(!0)) : d(), p
}, viewJs.toConfirmLogout = function () {
    viewJs.dialogPop("确定退出？", function (e) {
        e && dmJs.sStore.logout(function () {
            $("#account .backBtn").click(), viewJs.afterToggleLogin();
            var e = {id: "startpage", url: "./"};
            viewJs.navigator.next({next: e})
        })
    })
}, viewJs.chkPermission = function (e) {
    var e = $.trim(e || $.mobile.activePage.attr("id"));
    return -1 == viewJs.jsConfig.__needNotLogin.search("," + e + ",")
}, viewJs.getVerifyCode = function (e) {
    var i = $.mobile.activePage, t = i.find(".phone input").val();
    t = $.trim(t), dmJs.getVerifyCode({mobile: t}, function (e) {
        dmJs.sStore.save("tempAccessToken", e.tempAccessToken), dmJs.sStore.save("tempAccessToken_mobile", t), viewJs.setClock(i.find(".vbt.sendCode"), {
            html: "（{0}）重新获取",
            time: 60
        }), viewJs.showPopMsg("验证码已发送")
    })
}, viewJs.clearRegister = function () {
    var e = $.mobile.activePage;
    viewJs.clearClock(e.find(".vbt.sendCode"), "获取验证码")
}, viewJs.clearClock = function (e, i) {
    clearInterval(e.data("clockHandler")), e.html(i || e.data("normalHtml")).removeClass("busy")
}, viewJs.setClock = function (e, i) {
    var t = i.html, a = i.time;
    e.html(t.replace("{0}", "" + a)), e.addClass("busy").data("normalHtml", "获取验证码"), e.data("clockHandler", setInterval(function () {
        return --a, 0 >= a ? void viewJs.clearClock(e) : void e.html(t.replace("{0}", "" + a))
    }, 1e3))
}, viewJs.delayCancelBusy = function (e) {
    setTimeout(function () {
        e.busy = !1
    }, 500)
}, viewJs.showPopMsg = function (e) {
    var i = $(document.body);
    i.find(".popMsg.ui-footer-fixed>.popCt").remove();
    {
        var t, a = $(['<div class="popMsg ui-footer-fixed">', '<span class="popCt">', e, "</span>", "</div>"].join("")).prependTo(i);
        i.find(".popMsg.ui-footer-fixed:visible:eq(0)")
    }
    t = .7 * $(window).height(), a.css({top: t}).show().fadeOut(5e3), setTimeout(function () {
        a.remove()
    }, 5e3)
}, viewJs.validInput = function () {
    var e = $(this), i = e.val() + "", t = e.attr("data-format"), a = $.trim(e.attr("maxlength"));
    switch (t) {
        case"alphanumeric":
            i = i.replace(/[^0-9a-zA-Z]/g, "");
            break;
        case"decimal":
            i = i.replace(/[^\d\.]/g, "").replace(/.*\./g, "0.").replace(/^0{2,}/, "0"), Number(i) > 1 && (i = ("0." + i).substring(0, 2));
            break;
        case"number":
            i = i.replace(/[^\d]/g, "")
    }
    if ($.isNumeric(a)) {
        var a = Number(a);
        t ? i = i.substring(0, a) : (clearTimeout(e.data("maxLengthHandler")), e.data("maxLengthHandler", setTimeout(function () {
            var i = e.val() + "";
            i = viewJs.subStr(i, a), e.val(i)
        }, 300)))
    }
    t && e.val(i)
}, viewJs.showPopTip = function (e) {
    var i = ($.mobile.activePage, $(e.el));
    i.siblings(".elTip").remove();
    var t = $(['<div class="popMsg elTip" style="width:auto;height:40px;position:absolute;">', '<span class="popCt" style="border-radius:5px;">', e.msg, "</span>", "</div>"].join("")).insertBefore(i), a = i.offset();
    return t.offset({top: a.top + i.height(), left: a.left}).show(), t.delay(1500), t
}, viewJs._repSymbolLists = [{r: /</g, t: "＜"}, {r: />/g, t: "＞"}, {r: /\[/g, t: "［"}, {
    r: /\]/g,
    t: "］"
}], viewJs.replaceSymbol = function (e) {
    for (var i, t = viewJs._repSymbolLists, a = t.length - 1; a > -1; a--)i = t[a], e = e.replace(i.r, i.t);
    return e
}, viewJs.formateVideoUrl = function (e) {
    e.undelegate().delegate("a[video-youku]", "vclick", function (e) {
        e.preventDefault(), viewJs.showVideo($(this).attr("video-youku"))
    }), e.find("a").each(function (e, i) {
        var t = $(i), a = $.trim(t.attr("href"));
        if ("" != a && !(a.indexOf("player.youku.com/embed") < 0)) {
            var s = a.replace(/^.*\//, "").replace(/\..*$/, "");
            t.attr("video-youku", s).attr("href", "#")
        }
    })
}, viewJs.showVideo = function (e) {
    viewJs.dialogPop('<iframe id="video_frame" src="http://player.youku.com/embed/' + e + '" height=225 width=236  frameborder=0 allowfullscreen></iframe>', function () {
        $("#video_frame").remove()
    }, "视频播放", {onlyBtnOk: !0, okText: "关闭"})
}, viewJs.dialogPop = function (e, i, t, a) {
    var s = $.mobile.activePage;
    if (null != s) {
        var r = $("#dialogPopMsg");
        0 == r.length && (r = $(['<div id="dialogPopMsg" class="dlgPop-overlay" style="background-color:rgba(0,0,0,.3);">', '<div class="dlgPop-box ui-corner-all ui-footer-fixed">', '<div class="dlgPop-title">确认</div>', '<div class="dlgPop-content "></div>', '<div class="dlgPop-btn-bar">', '<a class="dlgPop-btn confirm">确认</a>', '<a class="dlgPop-btn cancel">取消</a>', "</div>", "</div>", "</div>"].join("")).hide()), s.append(r);
        var a = a || {};
        a.onlyBtnOk ? r.find(".dlgPop-btn-bar").addClass("onlyBtnOk") : (r.find(".dlgPop-btn-bar").removeClass("onlyBtnOk"), r.find(".dlgPop-btn.cancel").text(a.noText || "取消").show()), r.find(".dlgPop-btn.confirm").text(a.okText || "确认"), r.find(".dlgPop-title").html(t || "提示"), r.find(".dlgPop-content").html(e);
        var n = r.find(".dlgPop-btn").unbind("click");
        setTimeout(function () {
            n.unbind("click").bind("click", function () {
                r.hide(), $.isFunction(i) && i($(this).is(".confirm"))
            })
        }, 500), viewJs.top(), a.front ? r.addClass("front") : r.removeClass("front"), r.removeClass(r.data("cls")), a.cls ? (r.addClass(a.cls), r.data("cls", a.cls)) : r.data("cls", null), r.show()
    } else alert(e)
}, viewJs.validate = function (e) {
    var i = e.val, t = e.name;
    if ("" == i || null == i) {
        if (e.must)return t + "不能为空"
    } else {
        var a = i.length;
        if (e.minLength && a < e.minLength)return t + " " + e.minLength + "~" + e.maxLength + "位";
        if (e.maxLength && a > e.maxLength)return t + " " + e.minLength + "~" + e.maxLength + "位"
    }
}, viewJs.onPhoneInput = function (e) {
    var i = $(e), t = $.trim(i.val()).replace(/\D/g, "");
    i.val(t), "" == t ? i.parent().siblings(".vbt.sendCode").removeClass("enable") : i.parent().siblings(".vbt.sendCode").addClass("enable")
}, viewJs.navigator = {
    extraParams: {},
    histroy: {},
    transition: "fade",
    init: function () {
        this.transition = "none"
    },
    setExtraParam: function (e, i) {
        var t = this.extraParams[e];
        null == t && (t = this.extraParams[e] = {}), $.extend(t, i)
    },
    getExtraParams: function (e) {
        return this.extraParams[e]
    },
    clearExtraParam: function (e) {
        delete this.extraParams[e]
    },
    df: {
        orderDetail: {url: "./myOrders.html"},
        services: {url: "./"},
        account: {url: "./mine.html"},
        myOrders: {url: "./mine.html"},
        favorite: {url: "./mine.html"},
        mine: {url: "./"},
        search: {url: "./"},
        changeCity: {url: "./"},
        changePwd: {url: "./account.html"},
        addService: {url: "./"},
        selCategories: {url: "./addService.html", navigate: "#addService"},
        selServiceTags: {url: "./addService.html", navigate: "#addService"},
        addServiceWantDesc: {url: "./addService.html", navigate: "#addService"},
        verifyUser: {url: "./account.html"}
    },
    next: function (e) {
        this.init();
        var i = ($.mobile.activePage, e.next);
        if (e.lastAuto && (e.last = this.getLastByCurrent()), e.last) {
            var t = e.last.id;
            "confirmOrder" == t && "service" == i.id ? console.log("sss") : dmJs.sStore.save("pre-" + i.id, e.last)
        }
        var a = e.extra;
        null != a && a.params ? viewJs.navigator.setExtraParam(i.id, a.params) : ($("#" + i.id).remove(), this.clearExtraParam(i.id));
        var s = $.extend({transition: this.transition}, i.options);
        $.mobile.changePage(i.url || i.href, s)
    },
    pre: function (e) {
        this.init();
        var i = $.mobile.activePage, t = i.attr("id"), a = dmJs.sStore.get("pre-" + t);
        if (null == a ? (a = this.df[t], null == a ? (console.log(t + ":前一个页面不存在"), a = {url: "./"}) : console.log(t + ":默认前一个页面：" + a)) : ($("#" + a.id).remove(), console.log([t, a]), dmJs.sStore.remove("pre-" + t)), null != a.navigate)$.mobile.navigate(a.navigate); else {
            var s = $.extend({transition: this.transition}, a.options);
            s.reverse = "true";
            try {
                $.mobile.changePage(a.url || a.href, s)
            } catch (r) {
                console.log(r), loaction.reload()
            }
        }
    },
    getLastByCurrent: function () {
        var e = $.mobile.activePage, i = $.mobile.path.parseUrl(location.href);
        return {id: e.attr("id"), href: i.hrefNoSearch, options: {data: mainJs.parseUrlSearch()}}
    }
}, viewJs.afterToggleLogin = function () {
    var e = dmJs.sStore.getUserInfo();
    null == e ? $(document.body).removeClass("login") : ($(document.body).addClass("login"), $(".loginName").html(e.user.realname))
}, viewJs.maskReadImg = function (e) {
    viewJs.maskBusy(e || "图片读取中", "reading-img")
}, viewJs.finishReadImg = function () {
    viewJs.hideBusyMask("reading-img")
}, viewJs.initPublishPage = function () {
    var e = dmJs.sStore.getUserInfo();
    return null == e ? void dmJs.sStore.toLogin() : void viewJs.toggleAddServiceEvents(!0)
}, viewJs.showApiError = function (e) {
    dmJs.sStore.accessInvalid(e);
    var i, t = dmJs.i18n.getMsgs("msg_api");
    null == t ? i = e.error : (i = t[e.error_code] || e.error, (e.error_code = "20002") && (i = "验证码失效"));
    var a = e.callback;
    if (!a)switch (e.error_code) {
        case"20201":
        case"20101":
        case"20503":
        case"20248":
        case"20249":
            a = function () {
                viewJs.navigator.pre()
            }
    }
    viewJs.dialogPop(i, function () {
        var e = null == $.mobile ? null : $.mobile.activePage;
        null != e && e.find("input[autofocus]:first").focus(), null != a && a()
    }, "错误", {onlyBtnOk: !0})
}, viewJs.jsConfig = {
    __needNotLogin: ",doSearchSvr,services,service,startpage,changeCity,reviews,u,moreServices,moreWants,register,signIn,",
    verifyUser: {url: "/js/user/verifyUser.js", varName: "verifyUserJs", title: "身份认证"},
    validateBankCard: [{
        url: "/js/common/validCard.js",
        varName: "validCardJs",
        title: "银行卡格式验证"
    }, {url: "/js/user/validateBankCard.js", varName: "validateBankCardJs", title: "银行卡认证"}],
    withdraw: {varName: "withdrawJs", url: "/js/user/withdraw.js", title: "提现"},
    resetPwd: {varName: "resetPwdJs", url: "/js/user/resetPwd.js", title: "重置密码"},
    recommend: {varName: "recSvrsJs", url: "/js/search/recSvrs.js", title: "推荐的服务"},
    myWants: {varName: "myWantsJs", url: "/js/want/myWants.js", title: "我发布的需求"},
    myServices: {varName: "myServicesJs", url: "/js/service/myServices.js", title: "我发布的服务"},
    updateInfo: [{
        varName: "simpledatepickerJs",
        url: "/js/plugin/datepicker/simpledatepicker2.js",
        title: "日历"
    }, {varName: "uploadAvatarJs", url: "/js/common/uploadAvatar.js", title: "头像插件"}, {
        varName: "updateInfoJs",
        url: "/js/user/updateInfo.js",
        title: "修改用户信息"
    }],
    recharge: {varName: "rechargeJs", url: "/js/user/recharge.js", title: "充值"},
    accountDetails: {varName: "accountDetailsJs", url: "/js/user/accountDetails.js", title: "充值"},
    doSearchSvr: {varName: "doSearchSvrJs", url: "/js/search/doSearchSvr.js", title: "搜素页面"},
    want: {varName: "wantJs", url: "/js/want/want.js", title: "需求详情"},
    addService: [{varName: "publishJs", url: "/js/common/publish.js", title: "发布服务"}, {
        varName: "addServiceJs",
        url: "/js/service/addService.js",
        title: "发布服务"
    }],
    addWant: [{varName: "publishJs", url: "/js/common/publish.js", title: "发布需求"}, {
        varName: "addWantJs",
        url: "/js/want/addWant.js",
        title: "发布需求"
    }],
    selectVeifyType: {varName: "selectVeifyTypeJs", url: "/js/user/selectVeifyType.js", title: "选择认证类型"},
    submitOrder: {varName: "submitOrderJs", url: "/js/service/submitOrder.js", title: "提交订单"},
    addReview: {varName: "addReviewJs", url: "/js/service/addReview.js", title: "评价"},
    sysMessage: {varName: "sysMessageJs", url: "/js/message/sysMessage.js", title: "系统消息"},
    services: {varName: "searchResultJs", url: "/js/search/searchResult.js", title: "搜索结果"},
    service: {varName: "serviceJs", url: "/js/service/service.js", title: "服务详情"},
    report: {varName: "reportJs", url: "/js/service/report.js", title: "举报服务"},
    orderDetail: {varName: "orderDetailJs", url: "/js/service/orderDetail.js", title: "订单详情"},
    account: {varName: "accountJs", url: "/js/user/account.js", title: "账户管理"},
    mine: {varName: "mineJs", url: "/js/user/mine.js", title: "账户管理"},
    changeCity: {varName: "changeCityJs", url: "/js/system/changeCity.js", title: "城市列表"},
    startpage: {varName: "startpageJs", url: "/js/system/startpage.js", title: "首页"},
    reviews: {varName: "reviewsJs", url: "/js/service/reviews.js", title: "评价"},
    confirmOrder: {varName: "confirmOrderJs", url: "/js/service/confirmOrder.js", title: "支付"},
    u: {varName: "uJs", url: "/js/user/u.js", title: "用户详情"},
    moreServices: {varName: "moreServicesJs", url: "/js/user/moreServices.js", title: "用户服务"},
    moreWants: {varName: "moreWantsJs", url: "/js/user/moreWants.js", title: "用户需求"},
    favorite: {varName: "favoriteJs", url: "/js/user/favorite.js", title: "我的收藏"},
    follow: {varName: "followJs", url: "/js/user/follow.js", title: "我的关注"},
    fans: {varName: "fansJs", url: "/js/user/fans.js", title: "我的粉丝"},
    userKPI: {varName: "userKPIJs", url: "/js/user/userKPI.js", title: "绩效指标"},
    selectPublish: {varName: "selectPublishJs", url: "/js/common/selectPublish.js", title: "选择发布类型"},
    myOrders: {varName: "myOrdersJs", url: "/js/user/myOrders.js", title: "我的订单"},
    paySuccess: {varName: "paySuccessJs", url: "/js/service/paySuccess.js", title: "支付成功"},
    register: {varName: "registerJs", url: "/js/user/register.js", title: "注册"},
    changePwd: {varName: "changePwdJs", url: "/js/user/changePwd.js", title: "修改密码"},
    matchWants: {varName: "matchWantsJs", url: "/js/search/matchWants.js", title: "匹配需求"},
    matchServices: {varName: "matchServicesJs", url: "/js/search/matchServices.js", title: "匹配服务"},
    signIn: {varName: "signInJs", url: "/js/user/signIn.js", title: "登录"},
    myInvitations: {varName: "myInvitationsJs", url: "/js/user/myInvitations.js", title: "我的邀请"},
    waitList: {varName: "waitListJs", url: "/js/user/waitList.js", title: "待付款/待确认/待评价"},
    blanceDetail: {varName: "blanceDetailJs", url: "/js/user/blanceDetail.js", title: "账单详情"},
    changePrice: {varName: "changePriceJs", url: "/js/user/changePrice.js", title: "修改订单"},
    "five-color": {varName: "fiveColorJs", url: "/js/user/five-color.js", title: "五色思维"}
}, viewJs.loadJs = function (e, i) {
    var t = e;
    $.isArray(t) || (t = [t]);
    var i = i ? i : {}, a = t.length, s = null == i.index ? i.index = 0 : i.index, r = $.extend({}, t[s]);
    viewJs.maskBusy("初始化", r.varName), r.ns = r.ns || window, /^https?:/.test(r.url) || (r.url = mainJs.getResourceURL(r.url) + "?ver=" + mainJs.publishVer), r.ajaxOpt = {
        success: function () {
            viewJs.hideBusyMask(r.varName);
            var e = r.ns[r.varName];
            $.isFunction(e.init) && e.init(), a - 1 > s ? (i.index += 1, viewJs.loadJs(t, i)) : $.isFunction(i.success) && i.success()
        }, error: function () {
            viewJs.hideBusyMask(r.varName), viewJs.dialogPop("加载" + (r.title || "组件") + "失败！", function () {
                $.isFunction(i.error) && i.error()
            }, "错误", {onlyBtnOk: !0})
        }
    }, $.getJs(r)
}, viewJs.renderPage = function (e) {
    var i = viewJs.jsConfig[e];
    null != i && viewJs.loadJs(i, {
        error: function () {
            viewJs.navigator.pre()
        }
    })
}, viewJs._maskLoadingMore = function () {
    var e = $("#maskLoadingMore");
    0 == e.length ? $(document.body).append(['<div id="maskLoadingMore" class="loading-dots-container ng-hide ui-footer-fixed">', '<div class="background">&nbsp;</div>', '<div class="line-wrapper">', '<div class="line">', '<div class="loading-dots horizontal one"></div>', '<div class="loading-dots horizontal two"></div>', '<div class="loading-dots horizontal three"></div>', '<div class="loading-dots horizontal four"></div>', "</div>", "</div>", "</div>"].join("")).show() : e.show()
}, viewJs.applyTpl_reg = /_tpl-[a-zA-Z\d\.]*/g, viewJs.applyTpl_fParse2 = function (e, i) {
    var t = e.indexOf(".");
    if (t > -1)return arguments.callee.call(null, e.substring(t + 1), i[e.substring(0, t)]);
    var a = i[e];
    return null == a ? "" : a
}, viewJs.applyTpl = function (e, i) {
    return e.replace(viewJs.applyTpl_reg, function (e) {
        var t = e.substring(5);
        return viewJs.applyTpl_fParse2(t, i)
    })
}, viewJs.addPaperFooter = function (e, i, t, a, s) {
    if (a > 0) {
        var r = mainJs.PAGE_SIZE, n = {};
        n.hasPre = i > 0 ? "" : "disabled", n.hasNext = t > i + r ? "" : "disabled";
        var o = Math.ceil(i / r + .1);
        n.pagePre = o - 1, n.pageNext = o + 1, n.pageCurrentTotal = r > t ? "1" : [o, Math.ceil(t / r)].join("/"), e.push(viewJs.applyTpl(s, n))
    } else e.push('<div class="not_found_container font-gray" style="display: block"><div class="not-found-icon"></div> </div>')
}, viewJs._endLoadingMore = function () {
    $("#maskLoadingMore").fadeOut(2e3)
}, viewJs.noloadingMore = function () {
    $("#maskLoadingMore").hide(), viewJs.showPopMsg("客官，已经没有了，别费劲了")
}, viewJs.loadPage = function (e) {
    var i, t = e.domain, a = e.evt, s = e.bLogin, r = e.param, n = e.url;
    if (s && (i = dmJs.getAccessToken(), null == i))return void dmJs.sStore.toLogin({href: location.href});
    var o = 0;
    if (a && "vclick" == a.type) {
        var l = $(a.target);
        if (l.is(".disabled"))return;
        o = (Number(l.attr("data-page-num")) - 1) * mainJs.PAGE_SIZE
    }
    if (!t.busy) {
        t.busy = !0;
        var d = {};
        s && (d.accessToken = i), d.pageSize = mainJs.PAGE_SIZE, $.extend(d, r), d.offset = o;
        var u = n.substring(n.indexOf("/") + 1);
        dmJs._ajax({
            method: e.reqMethod, id: u, url: n, params: d, accessInvalid: function () {
                dmJs.sStore.toLogin({href: location.href})
            }, callback: function (i) {
                viewJs.parseList(i, $.extend(e, d))
            }, error: function () {
            }
        }).complete(function () {
            viewJs.delayCancelBusy(t)
        })
    }
}, viewJs.parseList = function (e, i) {
    for (var t, a = i.$content, s = i.tpl, r = i.paperTpl, n = i.itemParser, o = Number(i.offset), l = i.dataKey, d = e[l], u = e.total, c = d.length, v = ($.mobile.activePage, []), m = 0; c > m; m++)t = d[m], v.push(viewJs.applyTpl(s, n(t, i)));
    if (c > 0) {
        var g = mainJs.PAGE_SIZE, f = {};
        f.hasPre = o > 0 ? "" : "disabled", f.hasNext = u > o + g ? "" : "disabled";
        var p = Math.ceil(o / g + .1);
        f.pagePre = p - 1, f.pageNext = p + 1, f.pageCurrentTotal = g > u ? "1" : [p, Math.ceil(u / g)].join("/"), v.push(viewJs.applyTpl(r, f))
    }
    a.html(v.join(""))
}, viewJs.subStr = function (e, i) {
    if (null == e || "" == e)return e;
    for (var t, a = e.length, s = viewJs.getStrLen(e); s > i && !(1 > a);)t = e.charAt(a - 1), e = e.substring(0, a - 1), s -= viewJs.getStrLen(t), a--;
    return e
}, viewJs.getStrLen = function (e) {
    var i, t, a, s = $.trim(e);
    return i = s.length, t = s.replace(/[\u0020-\u007f\uff61-\uff9f]/g, "").length, a = i + t
}, viewJs.chkLogin = function (e) {
    var i = dmJs.sStore.getUserInfo();
    return null == i ? void viewJs.dialogPop("未登录或登录失效！", function () {
        dmJs.sStore.toLogin(e || {
                id: $.mobile.activePage.id,
                url: location.href.replace(/\?.+/, ""),
                options: {data: mainJs.parseUrlSearch()}
            })
    }, "错误", {onlyBtnOk: !0}) : i
}, viewJs.validate._regExps = {
    url: /^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
    email: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
}, viewJs.validate.email = function (e) {
    return this._regExps.email.test(e)
}, viewJs.validate.url = function (e) {
    return this._regExps.url.test(e)
}, viewJs.getFocus = function (e) {
    var i = 0;
    if (document.selection) {
        e.focus();
        var t = document.selection.createRange();
        if ("TEXTAREA" === e.nodeName) {
            var a = t.duplicate();
            a.moveToElementText(e);
            for (var i = -1; a.inRange(t);)a.moveStart("character"), i++
        } else"INPUT" === e.nodeName && (t.moveStart("character", -e.value.length), i = t.text.length)
    } else(e.selectionStart || "0" == e.selectionStart) && (i = e.selectionStart);
    return i
}, viewJs.bLoan = function (e) {
    if ($.isArray(e)) {
        for (var i, t = e.length - 1; t > -1; t--)"创新学堂贷款" == $.trim(e[t].tagName) && (i = !0);
        return i
    }
    return "创新学堂贷款" == $.trim(e.tagName)
}, viewJs.setTitle = function (e, i) {
    var i = i || $.mobile.activePage;
    document.title = e, i.find(".ui-title:first").html(e)
};
var unionSupport = {};
!function () {
    var e = navigator.userAgent;
    unionSupport.tag = /UCBrowser/.test(e) ? "embed" : "a", unionSupport.pluginUrl = browser.versions.android ? "http://mobile.unionpay.com/getclient?platform=android&type=securepayplugin" : "http://mobile.unionpay.com/getclient?platform=ios&type=securepayplugin"
}(), unionSupport.generateTag = function (e, n, t) {
    var o = ["tn=" + e, "resultURL=" + encodeURIComponent("http://m.euming.com/union"), "usetestmode=" + t].join(","), a = encodeURIComponent(Base64.encode(o)), p = "";
    return p = "a" == unionSupport.tag ? '<a data-role="button" data-ajax="false" href="uppay://uppayservice/?style=token&paydata=' + a + '">银联</a>' : '<embed type="application/x-unionpayplugin" uc_plugin_id="unionpay" height="53" width="178"  paydata="' + a + '"></embed>', $(p)
};
$(function () {
    var e = window.dmJs = {};
    e.isAndroid = /(Android)/i.test(navigator.userAgent), e.isIos = /(ios)/i.test(navigator.userAgent), e.params = {
        geolocation: {
            id: 1,
            city: "北京",
            longitude: "116.319784",
            latitude: "40.00496"
        }
    }, e.i18n = {
        getMsgs: function (t) {
            return e.i18n[t + "_zh-CN"]
        }
    }, e.data = {categories: null, hasNext: !0, offset: 0}, e.getCategories = function (t, r) {
        var n = arguments.callee;
        return n.busy = !0, null == e.data.categories ? void $.get(mainJs.getApiUrl("/urming_quan/system/getCategories")).success(function (r, o, s) {
            var a = $.parseJSON(r);
            return e.data.categories = a.categories, $.isFunction(t) && t(a.categories), n.busy = !1, a.categories
        }).error(function () {
            viewJs.showPopMsg("网络错误"), $.isFunction(r) && r(), n.busy = !1
        }) : ($.isFunction(t) && (t(e.data.categories), n.busy = !1), e.data.categories)
    }, e.getVerifyCode = function (t, r) {
        "" != t.mobile && e._ajax({
            id: "getVerifyCode",
            method: "POST",
            params: t,
            url: "/urming_quan/user/getVerifyCode",
            callback: r
        })
    }, e.confirmService = function (t, r) {
        var n = e.sStore.getUserInfo();
        if (null == n)return void e.sStore.toLogin({url: "./myOrders.html"});
        var o = {serviceOwnID: t, accessToken: n.accessToken};
        e._ajax({
            id: "useService", accessInvalid: function () {
                e.sStore.toLogin({url: "./myOrders.html"})
            }, params: o, url: "/urming_quan/service/useService", callback: r
        })
    }, e.getCategoryTags = function (t, r) {
        e._ajax({
            params: t,
            dataType: "html",
            callback: r,
            id: "getCategoryTags",
            url: "/urming_quan/system/getCategoryTags"
        })
    }, e._ajax = function (t) {
        return viewJs.maskBusy(t.maskText, t.id), $.ajax({
            cache: !1,
            url: mainJs.getApiUrl(t.url),
            type: "POST" == t.method ? "POST" : "GET",
            data: t.params,
            dataType: t.dataType,
            success: function (r, n, o) {
                viewJs.hideBusyMask(t.id);
                try {
                    var s = $.parseJSON(r)
                } catch (a) {
                    var s = r
                }
                return s.error ? e.sStore.accessInvalid(s) ? void($.isFunction(t.accessInvalid) ? t.accessInvalid() : (e.sStore.logout(), e.sStore.toLogin())) : void viewJs.showApiError(t.preError ? t.preError(s) : s) : void($.isFunction(t.callback) && t.callback(s))
            },
            error: function () {
                viewJs.hideBusyMask(t.id), viewJs.showPopMsg("网络错误"), $.isFunction(t.error) && t.error()
            }
        })
    }, e.getAccessToken = function () {
        var t = e.sStore.getUserInfo();
        return null != t ? t.accessToken : null
    }, e.findCatById = function (t, r) {
        viewJs.maskBusy(null, "findCatById"), e.getCategories(function (e) {
            viewJs.hideBusyMask(null, "findCatById");
            for (var n, o = e.length - 1; o > -1 && (n = e[o], n.id != t); o--);
            $.isFunction(r) && r(n)
        }, function () {
            viewJs.hideBusyMask(null, "findCatById"), viewJs.showPopMsg("加载分类错误")
        })
    }, e.calGrade = function (e) {
        for (var t, r = $.trim(e).split(","), n = 0, o = 0, s = -1, a = -1, i = [], c = 0; 5 > c; c++)t = Number(r[c]), t > s && (s = t, a = c + 1), i[c] = t, n += t * (c + 1), o += t;
        if (0 == o)return {user: o, grade: 0, maxNum: s, maxScore: a, nums: i};
        var u = Math.round(10 * n / o) / 10, l = u - Math.floor(u);
        return l > 0 && (l = u - l), {user: o, grade: u, halfStar: l, maxNum: s, maxScore: a, nums: i}
    }, e.ajaxForm = function (t, r, n, o) {
        var o = o || {}, s = o.reqId || "ajaxForm";
        return viewJs.maskBusy(o.busyDesc || "提交中", s), $.ajax({
            url: r,
            type: "POST",
            data: t,
            dataType: "text",
            processData: !1,
            contentType: !1,
            success: function (t) {
                viewJs.hideBusyMask(s);
                var r = $.parseJSON(t), o = e.sStore.accessInvalid(r);
                return o ? (viewJs.showApiError(r), void e.sStore.toLogin()) : r.error ? void viewJs.showApiError(r) : void($.isFunction(n) && n(r))
            },
            error: function () {
                viewJs.showPopMsg("网络错误"), viewJs.hideBusyMask(s)
            },
            xhr: function () {
                var e = new XMLHttpRequest;
                return e.upload.addEventListener("progress", function (e) {
                    if (e.lengthComputable) {
                        var t = Math.round(100 * e.loaded / e.total);
                        $("#mask_ajaxForm,#submitService").html("正在提交." + t.toString() + "%"), console.log("正在提交." + t.toString() + "%")
                    }
                }, !1), e
            }
        })
    }, e.getAreasByParentId = function (e, t, r) {
        var n = "childCity_" + e;
        localStorage.getItem(n), null == localStorage.getItem(n) ? (viewJs.maskBusy(null, "getAreasByParentId"), $.get(mainJs.getApiUrl("/urming_quan/system/getAreasByParentId?_d=" + Date.now()), {parentID: e}).success(function (e) {
            localStorage.setItem(n, e), $.isFunction(t) && t($.parseJSON(e)), viewJs.hideBusyMask("getAreasByParentId")
        }).error(function () {
            console.log(arguments), $.isFunction(r) && r(arguments), viewJs.hideBusyMask("getAreasByParentId")
        })) : $.isFunction(t) && t($.parseJSON(localStorage.getItem(n)))
    }, e.initData = function () {
        localStorage.removeItem("cities");
        var t = e.sStore.get("geolocation");
        null != t ? e.params.geolocation = t : mainJs.getPos(), e.loadI18n(), viewJs.afterToggleLogin()
    }, e.loadI18n = function () {
        var t = 5;
        localStorage.removeItem("msg_api_zh-CN"), localStorage.removeItem("msg_api_zh-CN_v2"), localStorage.removeItem("TFLDic2");
        var r = localStorage.getItem("msg_api_zh-CN_ver");
        r && (r = $.parseJSON(r), r.ver < t && (r = null, localStorage.removeItem("msg_api_zh-CN_ver"))), null == r ? $.getJSON(mainJs.getResourceURL("/i18n/zh-CN/msg_api_v2.txt?ver=" + t), function (t, r, n) {
            e.i18n["msg_api_zh-CN"] = t, localStorage.setItem("msg_api_zh-CN_ver", n.responseText)
        }).error(function () {
        }) : null == e.i18n["msg_api_zh-CN"] && (e.i18n["msg_api_zh-CN"] = r)
    }, e.fetchDataforLoginUser = function (e) {
        $.isFunction(e) && e()
    }, e.lStore = {
        data: {}, save: function (e, t) {
            var r = "ls-" + e;
            this.data[r] = t, localStorage.setItem(r, JSON.stringify(t))
        }, get: function (e) {
            var t = this, r = "ls-" + e, n = t.data[r];
            return (null == n || "" == n) && (n = t.formatVal(r), null != n && (n = $.parseJSON(n), t.data[r] = n)), n
        }, formatVal: function (e) {
            var t = localStorage.getItem(e);
            if ("null" == t || "undefined" == t) {
                var r = this;
                r.data[e] = value, t = null
            }
            return t
        }, remove: function (e) {
            var t = this, r = "ls-" + e;
            delete t.data[r], localStorage.removeItem(r)
        }
    }, e.hasLogin = function () {
        return null != this.sStore.getStr("currentUser")
    }, e.sStore = {
        data: {}, save: function (e, t) {
            if ($.isEmptyObject(t))return void console.log(e + ":为空对象");
            var r = "authz-" + e;
            sessionStorage.setItem(r, JSON.stringify(t))
        }, getLoginUser: function (t) {
            var r, n = this;
            if (n.alreadySyncByCookie && $.isFunction(t))return void t();
            var o = e.getAccessToken();
            return "" != $.trim(o) ? void t() : (r = e.lStore.get("cookieAccessToken")) ? (r = r.val, void n.syncUser(r, function (e) {
                n.alreadySyncByCookie = !0, $.isFunction(t) && t()
            }, function () {
                e.lStore.remove("cookieAccessToken"), n.alreadySyncByCookie = !0, $.isFunction(t) && t()
            })) : void t()
        }, syncUser: function (t, r, n) {
            var o = this;
            e._ajax({
                id: "getLoginUserInfo",
                url: "urming_quan/user/getUserByAccessToken",
                params: {accessToken: t},
                accessInvalid: function () {
                    $.isFunction(n) && n()
                },
                callback: function (e) {
                    e.accessToken = t, o.saveLoginInfo(e), $.isFunction(r) && r()
                }
            })
        }, get: function (t) {
            var r = this, n = "authz-" + t, o = e.sStore.data[n];
            return (null == o || "" == o) && (o = r.formatVal(n), null != o && (o = $.parseJSON(o))), o
        }, getStr: function (e) {
            var t = "authz-" + e;
            return sessionStorage.getItem(t)
        }, remove: function (t) {
            var r = "authz-" + t;
            delete e.sStore.data[r], sessionStorage.removeItem(r)
        }, saveLoginInfo: function (t) {
            var r = this;
            e.lStore.save("cookieAccessToken", {val: t.accessToken}), r.save("currentUser", t)
        }, logout: function (t) {
            var r = this, n = r.getUserInfo();
            if (null != n) {
                $.get(mainJs.getApiUrl("/urming_quan/user/logout"), {accessToken: n.accessToken}).complete(function () {
                    r.remove("currentUser"), e.lStore.remove("cookieAccessToken"), $.isFunction(t) && t()
                })
            } else e.lStore.remove("cookieAccessToken"), r.remove("currentUser"), $.isFunction(t) && t();
            viewJs.afterToggleLogin()
        }, getUserInfo: function () {
            var e = this, t = e.get("currentUser");
            return null != t && (t.saveSelf = function () {
                e.saveLoginInfo(this)
            }), t
        }, formatVal: function (e) {
            var t = sessionStorage.getItem(e);
            if ("null" == t || "undefined" == t) {
                t = null
            }
            return t
        }, reLogin: function (e) {
            this.logout(), this.toLogin(e)
        }, login: function (e, t) {
            var r = this;
            r.remove("currentUser"), r.logout(function () {
                var t = mainJs.getApiUrl("/urming_quan/user/login");
                e.password = mainJs.md5(e.password), $.post(t, e, function (e, t, n) {
                    var o = $.parseJSON(e);
                    if (null != o.error)return void viewJs.showApiError(o);
                    r.saveLoginInfo(o), viewJs.afterToggleLogin();
                    var s = r.getSuccessTo("successTo");
                    return null == s ? void viewJs.navigator.next({
                        next: {
                            url: "./",
                            id: "startPage"
                        }
                    }) : (r.clearSuccessTo(), null == s.url && null == s.href ? void viewJs.navigator.next({
                        next: {
                            url: "./",
                            id: "startPage"
                        }
                    }) : void viewJs.navigator.next({
                        next: {url: s.url || s.href, id: s.id, options: s.options},
                        last: s.last
                    }))
                }).error(function () {
                    viewJs.showPopMsg("网络错误")
                })
            })
        }, clearSuccessTo: function () {
            var e = this;
            e.remove("successTo")
        }, getSuccessTo: function () {
            var e = this;
            return e.get("successTo")
        }, saveSuccessTo: function (e) {
            if ($.isEmptyObject(e))console.log("登录成功转向参数为空！"); else {
                var t = this;
                t.save("successTo", e)
            }
        }, accessInvalid: function (t) {
            var r = this, n = "20001" == t.error_code || "20003" == t.error_code;
            return n && (e.lStore.remove("cookieAccessToken"), r.remove("currentUser"), viewJs.showPopMsg(urmingTips.accessInvalid)), n
        }, toLogin: function (e) {
            var t = this;
            t.saveSuccessTo(null != e ? e : {url: "./"}), viewJs.navigator.next({
                next: {
                    url: "./login.html",
                    id: "signIn"
                }
            })
        }, syncBalance: function (t) {
            var r = this, n = r.getUserInfo();
            return null == n ? void r.toLogin() : void e._ajax({
                maskText: "同步用户信息",
                id: "syncBalance",
                url: "/urming_quan/user/getUserPageByAccessToken",
                params: {accessToken: n.accessToken, type: 2},
                callback: function (e) {
                    n.user = e.user, r.saveLoginInfo(n), $.isFunction(t) && t()
                }
            })
        }
    }, e.initData()
});
function isScrollBottom() {
    if (null != $.mobile && null != $.mobile.activePage) {
        var e = $(window);
        return e.scrollTop() == $(document).height() - e.height() ? !0 : void 0
    }
}
var Base64 = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function (e) {
        var n, t, o, i, r, a, s, c = "", u = 0;
        for (e = Base64._utf8_encode(e); u < e.length;)n = e.charCodeAt(u++), t = e.charCodeAt(u++), o = e.charCodeAt(u++), i = n >> 2, r = (3 & n) << 4 | t >> 4, a = (15 & t) << 2 | o >> 6, s = 63 & o, isNaN(t) ? a = s = 64 : isNaN(o) && (s = 64), c = c + this._keyStr.charAt(i) + this._keyStr.charAt(r) + this._keyStr.charAt(a) + this._keyStr.charAt(s);
        return c
    }, decode: function (e) {
        var n, t, o, i, r, a, s, c = "", u = 0;
        for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); u < e.length;)i = this._keyStr.indexOf(e.charAt(u++)), r = this._keyStr.indexOf(e.charAt(u++)), a = this._keyStr.indexOf(e.charAt(u++)), s = this._keyStr.indexOf(e.charAt(u++)), n = i << 2 | r >> 4, t = (15 & r) << 4 | a >> 2, o = (3 & a) << 6 | s, c += String.fromCharCode(n), 64 != a && (c += String.fromCharCode(t)), 64 != s && (c += String.fromCharCode(o));
        return c = Base64._utf8_decode(c)
    }, _utf8_encode: function (e) {
        e = e.replace(/\r\n/g, "\n");
        for (var n = "", t = 0; t < e.length; t++) {
            var o = e.charCodeAt(t);
            128 > o ? n += String.fromCharCode(o) : o > 127 && 2048 > o ? (n += String.fromCharCode(o >> 6 | 192), n += String.fromCharCode(63 & o | 128)) : (n += String.fromCharCode(o >> 12 | 224), n += String.fromCharCode(o >> 6 & 63 | 128), n += String.fromCharCode(63 & o | 128))
        }
        return n
    }, _utf8_decode: function (e) {
        for (var n = "", t = 0, o = c1 = c2 = 0; t < e.length;)o = e.charCodeAt(t), 128 > o ? (n += String.fromCharCode(o), t++) : o > 191 && 224 > o ? (c2 = e.charCodeAt(t + 1), n += String.fromCharCode((31 & o) << 6 | 63 & c2), t += 2) : (c2 = e.charCodeAt(t + 1), c3 = e.charCodeAt(t + 2), n += String.fromCharCode((15 & o) << 12 | (63 & c2) << 6 | 63 & c3), t += 3);
        return n
    }
}, urmingTips = {
    html5NotSpport: "请选择现代浏览器(chrome,uc)并保证版本较新。",
    webStorageLimit: "本地存储受限，请关闭无痕浏览模式。",
    accessInvalid: "登录失效：过期或其它设备登录"
}, urmingLabels = {dfUserDesc: "暂时还没有填写"}, isEnableDebug = !0, mainJs = {};
!function (e) {
    "use strict";
    function n(e, n) {
        var t = (65535 & e) + (65535 & n), o = (e >> 16) + (n >> 16) + (t >> 16);
        return o << 16 | 65535 & t
    }

    function t(e, n) {
        return e << n | e >>> 32 - n
    }

    function o(e, o, i, r, a, s) {
        return n(t(n(n(o, e), n(r, s)), a), i)
    }

    function i(e, n, t, i, r, a, s) {
        return o(n & t | ~n & i, e, n, r, a, s)
    }

    function r(e, n, t, i, r, a, s) {
        return o(n & i | t & ~i, e, n, r, a, s)
    }

    function a(e, n, t, i, r, a, s) {
        return o(n ^ t ^ i, e, n, r, a, s)
    }

    function s(e, n, t, i, r, a, s) {
        return o(t ^ (n | ~i), e, n, r, a, s)
    }

    function c(e, t) {
        e[t >> 5] |= 128 << t % 32, e[(t + 64 >>> 9 << 4) + 14] = t;
        var o, c, u, m, l, d = 1732584193, g = -271733879, f = -1732584194, h = 271733878;
        for (o = 0; o < e.length; o += 16)c = d, u = g, m = f, l = h, d = i(d, g, f, h, e[o], 7, -680876936), h = i(h, d, g, f, e[o + 1], 12, -389564586), f = i(f, h, d, g, e[o + 2], 17, 606105819), g = i(g, f, h, d, e[o + 3], 22, -1044525330), d = i(d, g, f, h, e[o + 4], 7, -176418897), h = i(h, d, g, f, e[o + 5], 12, 1200080426), f = i(f, h, d, g, e[o + 6], 17, -1473231341), g = i(g, f, h, d, e[o + 7], 22, -45705983), d = i(d, g, f, h, e[o + 8], 7, 1770035416), h = i(h, d, g, f, e[o + 9], 12, -1958414417), f = i(f, h, d, g, e[o + 10], 17, -42063), g = i(g, f, h, d, e[o + 11], 22, -1990404162), d = i(d, g, f, h, e[o + 12], 7, 1804603682), h = i(h, d, g, f, e[o + 13], 12, -40341101), f = i(f, h, d, g, e[o + 14], 17, -1502002290), g = i(g, f, h, d, e[o + 15], 22, 1236535329), d = r(d, g, f, h, e[o + 1], 5, -165796510), h = r(h, d, g, f, e[o + 6], 9, -1069501632), f = r(f, h, d, g, e[o + 11], 14, 643717713), g = r(g, f, h, d, e[o], 20, -373897302), d = r(d, g, f, h, e[o + 5], 5, -701558691), h = r(h, d, g, f, e[o + 10], 9, 38016083), f = r(f, h, d, g, e[o + 15], 14, -660478335), g = r(g, f, h, d, e[o + 4], 20, -405537848), d = r(d, g, f, h, e[o + 9], 5, 568446438), h = r(h, d, g, f, e[o + 14], 9, -1019803690), f = r(f, h, d, g, e[o + 3], 14, -187363961), g = r(g, f, h, d, e[o + 8], 20, 1163531501), d = r(d, g, f, h, e[o + 13], 5, -1444681467), h = r(h, d, g, f, e[o + 2], 9, -51403784), f = r(f, h, d, g, e[o + 7], 14, 1735328473), g = r(g, f, h, d, e[o + 12], 20, -1926607734), d = a(d, g, f, h, e[o + 5], 4, -378558), h = a(h, d, g, f, e[o + 8], 11, -2022574463), f = a(f, h, d, g, e[o + 11], 16, 1839030562), g = a(g, f, h, d, e[o + 14], 23, -35309556), d = a(d, g, f, h, e[o + 1], 4, -1530992060), h = a(h, d, g, f, e[o + 4], 11, 1272893353), f = a(f, h, d, g, e[o + 7], 16, -155497632), g = a(g, f, h, d, e[o + 10], 23, -1094730640), d = a(d, g, f, h, e[o + 13], 4, 681279174), h = a(h, d, g, f, e[o], 11, -358537222), f = a(f, h, d, g, e[o + 3], 16, -722521979), g = a(g, f, h, d, e[o + 6], 23, 76029189), d = a(d, g, f, h, e[o + 9], 4, -640364487), h = a(h, d, g, f, e[o + 12], 11, -421815835), f = a(f, h, d, g, e[o + 15], 16, 530742520), g = a(g, f, h, d, e[o + 2], 23, -995338651), d = s(d, g, f, h, e[o], 6, -198630844), h = s(h, d, g, f, e[o + 7], 10, 1126891415), f = s(f, h, d, g, e[o + 14], 15, -1416354905), g = s(g, f, h, d, e[o + 5], 21, -57434055), d = s(d, g, f, h, e[o + 12], 6, 1700485571), h = s(h, d, g, f, e[o + 3], 10, -1894986606), f = s(f, h, d, g, e[o + 10], 15, -1051523), g = s(g, f, h, d, e[o + 1], 21, -2054922799), d = s(d, g, f, h, e[o + 8], 6, 1873313359), h = s(h, d, g, f, e[o + 15], 10, -30611744), f = s(f, h, d, g, e[o + 6], 15, -1560198380), g = s(g, f, h, d, e[o + 13], 21, 1309151649), d = s(d, g, f, h, e[o + 4], 6, -145523070), h = s(h, d, g, f, e[o + 11], 10, -1120210379), f = s(f, h, d, g, e[o + 2], 15, 718787259), g = s(g, f, h, d, e[o + 9], 21, -343485551), d = n(d, c), g = n(g, u), f = n(f, m), h = n(h, l);
        return [d, g, f, h]
    }

    function u(e) {
        var n, t = "";
        for (n = 0; n < 32 * e.length; n += 8)t += String.fromCharCode(e[n >> 5] >>> n % 32 & 255);
        return t
    }

    function m(e) {
        var n, t = [];
        for (t[(e.length >> 2) - 1] = void 0, n = 0; n < t.length; n += 1)t[n] = 0;
        for (n = 0; n < 8 * e.length; n += 8)t[n >> 5] |= (255 & e.charCodeAt(n / 8)) << n % 32;
        return t
    }

    function l(e) {
        return u(c(m(e), 8 * e.length))
    }

    function d(e, n) {
        var t, o, i = m(e), r = [], a = [];
        for (r[15] = a[15] = void 0, i.length > 16 && (i = c(i, 8 * e.length)), t = 0; 16 > t; t += 1)r[t] = 909522486 ^ i[t], a[t] = 1549556828 ^ i[t];
        return o = c(r.concat(m(n)), 512 + 8 * n.length), u(c(a.concat(o), 640))
    }

    function g(e) {
        var n, t, o = "0123456789abcdef", i = "";
        for (t = 0; t < e.length; t += 1)n = e.charCodeAt(t), i += o.charAt(n >>> 4 & 15) + o.charAt(15 & n);
        return i
    }

    function f(e) {
        return unescape(encodeURIComponent(e))
    }

    function h(e) {
        return l(f(e))
    }

    function p(e) {
        return g(h(e))
    }

    function v(e, n) {
        return d(f(e), f(n))
    }

    function J(e, n) {
        return g(v(e, n))
    }

    function b(e, n, t) {
        return n ? t ? v(n, e) : J(n, e) : t ? h(e) : p(e)
    }

    "function" == typeof define && define.amd ? define(function () {
        return b
    }) : e.md5 = b
}(mainJs), mainJs.PAGE_SIZE = 20, mainJs.publishVer = 261, mainJs.MATCH_WAIT = 5, mainJs.vars = {
    apiRootURL: "http://pkuie.euming.com/",
    imgRootUrl: "http://pkuie.euming.com/quan_img/",
    imgUserRootUrl: "http://img147.euming.com/urming_img/",
    resourceURL: "./resource",
    defaultSvrImg: "/systemdefault/mobile/service_no_pic.png",
    defaultManImg: "/systemdefault/mobile/man_profile.png",
    defaultWomenImg: "/systemdefault/mobile/women_profile.png",
    bigImg: "480_300/",
    defautImg: "original/",
    smallImg: "160_100/",
    reloadPage: !1
}, (isEnableDebug && -1 == location.hostname.search("euming.com") || location.hostname.search("test") > -1) && (mainJs.vars.apiRootURL = "http://pkuie.euming.com/", mainJs.vars.imgRootUrl = "http://pkuie.euming.com/quan_img/", mainJs.vars.imgUserRootUrl = "http://img147.euming.com/urming_img/", $(function () {
    $.getScript("resource/js/system/beta.js")
})), mainJs._getUrl = function (e) {
    return e.join("/").replace(/\/{2,}/g, "/").replace(/:\//, "://")
}, mainJs.getResourceURL = function (e) {
    return mainJs._getUrl([mainJs.vars.resourceURL, e])
}, mainJs.getApiUrl = function (e) {
    return mainJs._getUrl([mainJs.vars.apiRootURL, e]).replace("urming_quan", "urming_pkuie")
}, mainJs.getSvrPicUrl = function (e) {
    var n;
    null != e.url && "" != e.url && (e.url = e.url.split(",")[0], "1" == e.size ? n = mainJs.vars.bigImg : "2" == e.size ? n = mainJs.vars.smallImg : 0 == e.size && (n = mainJs.vars.defautImg)), n = n || "";
    var t = e.url || mainJs.vars.defaultSvrImg;
    return mainJs._getUrl([mainJs.vars.imgRootUrl, n, t])
}, $(function () {
    var e = /pageSize=/, n = function (n) {
        return "POST" == n.type && e.test(n.data) ? !0 : "GET" == n.type && e.test(n.url) ? !0 : !1
    };
    $(document).ajaxSend(function (e, t, o) {
        n(o) && viewJs._maskLoadingMore()
    }).ajaxComplete(function (e, t, o) {
        n(o) && viewJs._endLoadingMore()
    })
}), mainJs.getProfilePicUrl = function (e) {
    var n = $.trim(e.url), t = "";
    if ("" == n)if (t = "", "1" == e.sex)n = mainJs.vars.defaultManImg; else {
        if ("2" != e.sex)return "resource/images/404-user.png";
        n = mainJs.vars.defaultWomenImg
    }
    return mainJs._getUrl([mainJs.vars.imgUserRootUrl, t, n])
}, mainJs.parseSexToWord = function (e) {
    switch ($.trim(e)) {
        case"1":
            return "man";
        case"2":
            return "woman"
    }
    return "unknow"
}, mainJs.watchPosition = function () {
    var e = null, n = {enableHighAccuracy: !0, timeout: 4e3};
    if (window.urmingGeolocation = 1, browser.versions.mobile && window.navigator.geolocation) {
        var t = function (e) {
            if (e && 0 == e.status) {
                var n = e.result;
                dmJs.params.geolocation.city = n.addressComponent.city.replace(/市$/, ""), dmJs.params.geolocation.district = n.addressComponent.district, dmJs.params.geolocation.street = n.addressComponent.street, dmJs.params.geolocation.area2 = n.addressComponent.area2, dmJs.params.geolocation.area3 = n.addressComponent.area3, dmJs.params.geolocation.latitude = n.location.lat, dmJs.params.geolocation.longitude = n.location.lng
            }
            viewJs.hideBusyMask("watchPosition")
        };
        viewJs.maskBusy("定位中", "watchPosition"), e = navigator.geolocation.getCurrentPosition(function (e) {
            var n = e.coords, o = [n.latitude, n.longitude].join(","), i = "http://api.map.baidu.com/geocoder/v2/?ak=1NdP3HNjGyuesNmTLEK10Gx8&location=" + o + "&output=json&pois=0";
            $.ajax({
                url: i, dataType: "jsonp", success: t, error: function () {
                    viewJs.hideBusyMask("watchPosition"), viewJs.showPopMsg("定位失败！")
                }
            })
        }, function () {
            console.log(arguments), console.log("更新地理位置失败！"), viewJs.hideBusyMask("watchPosition"), viewJs.showPopMsg("定位失败！")
        }, n)
    } else viewJs.showPopMsg(window.navigator.geolocation ? "对于您的设备暂不支持定位！" : "浏览器不支持地理位置！")
}, mainJs.isPageShow = function (e) {
    return "HTML" == e[0].currentTarget.tagName
}, mainJs.bindClick = function () {
    $.mobile.document.on("vclick", ".tagIcon", function () {
        viewJs.clickManuallyEnterIcon(this)
    }), $.mobile.document.on("vclick", ".radioGrp .radioItem:not(.sel)", function () {
        var e = $(this);
        e.addClass("sel").siblings(".radioItem").removeClass("sel"), e.is(".person") ? e.parents(".vForm").addClass("person").removeClass("enterprise") : e.parents(".vForm").addClass("enterprise").removeClass("person")
    }), $.mobile.document.on("vclick", ".tabHeader .header:not(.current)", function () {
        var e = $(this), n = e.attr("tabi"), t = e.parents(".tabCtr").find("[tabi=" + n + "]"), o = e.parents(".tabCtr").find("[tabi=" + (3 - n) + "]"), i = (o.end().find("[tabi=" + (3 - n) + "].content"), o.end().find("[tabi=" + n + "].content"));
        o.removeClass("current"), i.css(1 == n ? {left: "100%"} : {left: "-100%"}), t.addClass("current"), i.animate({left: "0"}, {queue: !0}), e.trigger("tabchange")
    }), $.mobile.document.on("vclick", ".vRadioGrp .vRadio:not(.selected)", function () {
        viewJs.onVRadioChange(this)
    }), $.mobile.document.on("vclick", ".navigateBackBtn", function () {
        viewJs.navigator.pre()
    }), $.mobile.document.on("vclick", ".toLogin", function () {
        dmJs.sStore.toLogin({url: "./mine.html"})
    }), $.mobile.document.on("vclick", ".toSearchPage", function () {
        viewJs.navigator.next({next: {url: "./search.html", id: "doSearchSvr"}})
    }), $.mobile.document.on("vclick", ".svrGrade.isBtn", function () {
        var e = (mainJs.parseUrlSearch(), $(this)), n = e.data("reviewNumbers"), t = e.data("extra");
        viewJs.navigator.next({
            next: {
                url: "./reviews.html",
                id: "reviews",
                options: {data: $.extend({offset: 0, pageSize: 20, reviewNumbers: n}, t)}
            }, lastAuto: !0
        })
    })
}, mainJs.checkHtml5Support = function () {
    return window.localStorage && window.sessionStorage ? void 0 : urmingTips.html5NotSpport
}, mainJs.checkWebStorage = function () {
    try {
        return localStorage.setItem("checkWebStorage", "a"), void localStorage.removeItem("checkWebStorage")
    } catch (e) {
        return urmingTips.webStorageLimit
    }
}, mainJs.checkSupport = function () {
    var e = mainJs.checkHtml5Support();
    return e || (e = mainJs.checkWebStorage()), e ? (viewJs.dialogPop(e, null, "错误", {
        onlyBtnOk: !0,
        front: !0
    }), !1) : !0
}, mainJs.isPageBeforeShow = function (e) {
    return "DIV" == e.tagName
}, $(document).on("mobileinit", function () {
    $.mobile.pageLoadErrorMessage = "页面加载失败", $.event.special.swipe.horizontalDistanceThreshold = 5, $.event.special.swipe.durationThreshold = 500, $.mobile.page.prototype.options.domCache = !1, $.getJs({
        varName: "notifyJs",
        ns: window,
        ajaxOpt: {
            success: function () {
                notifyJs.init()
            }
        },
        url: mainJs.getResourceURL("/js/system/notify.js") + "?ver=" + mainJs.publishVer
    });
    var e = $("<input>");
    $.mobile.document.on("pagebeforehide", "*", function () {
        $.mobile.document.unbind("vclick"), e.focus()
    }), $.mobile.document.on("pageshow", "*", function (e, n) {
        $.mobile.document.unbind("vclick"), mainJs.isPageShow(arguments) && (setTimeout(mainJs.bindClick, 500), viewJs.maskBusy(null, "pagechange"))
    }), $.mobile.document.on("pageshow", "*", function () {
        mainJs.checkSupport() && viewJs.hideBusyMask("pagechange")
    });
    var n = function () {
        viewJs.loadJs({varName: "headerFooterJs", url: "/js/common/headerFooter.js", title: "页眉页脚"});
        var e = $.mobile.activePage;
        e.is(".ui-page") && viewJs.renderPage(e.attr("id"))
    };
    $.mobile.document.on("pagebeforeshow", "*", function () {
        if (mainJs.isPageBeforeShow(this)) {
            var e = browser.versions, t = [];
            for (var o in e)1 == e[o] && t.push("urming-" + o);
            t = t.join(" "), console.log("sss:" + t), $(document.body).addClass(t), e.iosMobile && $.mobile.activePage.find("file").attr("camera", null), dmJs.sStore.getLoginUser(n)
        }
    })
}), mainJs.parseUrlSearch = function (e) {
    for (var n, t, o = decodeURIComponent(e || location.search).replace(/^.*\?/, "").split("&"), i = o.length, r = 0, a = {}; i > r; r++)n = o[r], t = n.indexOf("="), -1 == t && (t = n.length), a[$.trim(n.substring(0, t))] = $.trim(n.substring(t + 1));
    return a
}, mainJs.getPos = function () {
    null == window.urmingGeolocation && mainJs.watchPosition()
}, mainJs.encode = function (e) {
    return Base64.encode(encodeURIComponent(e))
}, mainJs.decode = function (e) {
    return decodeURIComponent(Base64.decode(e))
}, $(function () {
    $(document).on("scrollstop", function (e) {
        var n = $(this).scrollTop(), t = $.mobile.activePage;
        if (null != t) {
            var o = $("#toTop");
            o.length > 0 && (n > 2 ? o.show() : o.hide())
        }
    })
});