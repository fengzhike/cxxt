function isScrollBottom(){if(null!=$.mobile&&null!=$.mobile.activePage){var e=$(window);return e.scrollTop()==$(document).height()-e.height()||void 0}}!function(e){!function(){for(var e=0,t=["webkit","moz","ms","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,r){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-e)),s=window.setTimeout(function(){t(a+i)},i);return e=a+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()}(window.jQuery||window),function(e){function t(e,t,r){e.save(),e.beginPath();var a=t[0],i=t.length;e.moveTo(a[0],a[1]);for(var s=1;s<i;s++)a=t[s],e.lineTo(a[0],a[1]);i>2&&(a=t[0],e.lineTo(a[0],a[1])),e.closePath(),r.fill?(e.fillStyle=r.color,e.fill()):(e.strokeStyle=r.color,e.stroke()),e.restore()}function r(e,t,r){for(var i,s,n,o=[],l=0;l<r;l++)n=-Math.PI/2+l*t,i=a(e*Math.cos(n)),s=a(e*Math.sin(n)),o.push([i,s]);return o}function a(e){return Number(e.toFixed(2))}function i(e){for(var t,r=1,a=e.length,i=e[0];r<a;r++)t=e[r],i=Math.max(i,t);var s=5,n=10,o=Math.ceil(i/(n*(s-1)))*n;return i=o*(s-1),{max:i,step:o,steps:s}}function s(e,t,r,i){var s,n,o=i.outD;n=i.max;var l,u,c,d,m=[];for(s=0;s<t;s++)c=-Math.PI/2+s*e,d=o*r[s]/n,l=a(d*Math.cos(c)),u=a(d*Math.sin(c)),m.push([l,u]);return m}function n(e,t,r){e.save();for(var a,i,s=r.steps,n=0,o=r.step;n<s;n++)a=Math.floor(o*n)+"",i=[0,-t[n]+5],e.fillText(a,10,i[1]);e.restore()}function o(e,t,r){var a=r.labels,i=r.font;e.save();for(var s,n,o,l,u,c=0,d=t.length;c<d;c++){s=a[c],o=e.measureText(s.txt).width,n=t[c],l=n[0],u=n[1],l<0?l-=o:l>0?l+=0:l=-o/2;var m=i.offset.y;u>0?u+=i.size+m:u<0&&(u-=m),e.font=r.fontStyle,e.fillStyle=s.color,e.fillText(s.txt,l,u)}e.restore()}e.radarChartJs={init:function(e){var l,u,c,d,m,v,g,f,p={},h=e.size||{},J=e.labelWidth,w=e.steps,y=document.createElement("canvas");g=y.getContext("2d");var b=e.font;e.fontStyle=g.font=[b.size,"px"," ",b.family].join(""),console.log(g.font),y.width=h[0]||0,y.height=h[1]||0,l=Math.ceil(Math.min(y.width-2*J,y.height-2*(b.size+b.offset.y))/2),u=y.width/2,c=y.height/2,g.translate(u,c),d=e.data;var j=d[0];m=j.length;var S,C,N=[0];v=2*Math.PI/m,f=1;for(var x=[];f<=w;f++)S=a(l*f/w),N.push(S),C=r(S,v,m),x.push(C);var k=C,P=[];for(f=C.length-1;f>-1;f--)P.push([[0,0],C[f]]);var T=i(j);T.outD=l;var I=s(v,m,j,T);return p.canvas=y,p.draw=function(r){r&&g.clearRect(-u,-c,h[0],h[1]);var a;for(a=x.length-1;a>-1;a--)t(g,x[a],{color:e.baseColor});for(o(g,k,e),a=k.length-1;a>-1;a--)t(g,P[a],{color:e.baseColor});if(n(g,N,T),r){var i=r.speed||.01,d=r.tmpD||i*l,f=r.aCount||0;if(d>=l&&(d=l),f++,T.outD=d,I=s(v,m,j,T),t(g,I,{color:e.chartColor,fill:!0}),d>=l)return;d+=i*l+.1*f*f,r.tmpD=d,r.speed=i,r.aCount=f,p.animateId=requestAnimationFrame(function(){p.draw(r)})}else t(g,I,{color:e.chartColor,fill:!0});return p},p}}}(window.jQuery||window);var browser={versions:function(){var e=navigator.userAgent,t={};return t.webKit=e.indexOf("AppleWebKit")>-1,t.uc=e.indexOf("UCBrowser")>-1,t.android=e.indexOf("Android")>-1||e.indexOf("UCBrowser")>-1&&e.indexOf("Linux;")>-1,t.iosMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),t.mobile=t.iosMobile||t.android||!!navigator.userAgent.match(/IEMobile/i)||!!navigator.userAgent.match(/Opera Mini/i)||!!navigator.userAgent.match(/BlackBerry/i),t}()};!function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=r.length,i=window.console=window.console||{};a--;)e=r[a],"m.euming.com"==location.host?i[e]=t:i[e]||(i[e]=t)}(),function(e){e.support.filereader=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),e.getJs=function(t){var r=t.ns||window,a=t.varName,i=t.ajaxOpt;r[a]?e.isFunction(i.success)&&i.success():e.cachedScript(t.url,i)},e.cachedScript=function(t,r){return r=e.extend(r||{},{dataType:"script",cache:!0,url:t}),e.ajax(r)},e.getCss=function(t){var r=t.id,a=t.ajaxOpt;if(null!=document.getElementById(r))e.isFunction(a.success)&&a.success();else{var i=a.success;a.success=function(t){e(['<style type="text/css" id="',r,'">',t,"</style>"].join("")).appendTo(document.head),e.isFunction(i)&&i()},e.cachedCss(t.url,a)}},e.cachedCss=function(t,r){var r=e.extend(r||{},{dataType:"text",cache:!0,url:t});return e.ajax(r)}}(jQuery),jQuery.fn.extend({clearVal:function(e){var t=this[0];t.outerHTML?t.outerHTML=t.outerHTML:t.value=""}}),$(function(){var e=function(){var e=$(window).height();return[".fullScreen.ui-page,.fullScreen{min-height:",e,"px;}",".ui-page>.ui-content{min-height:",e-120,"px;}",".fullScreen.ui-page .content{min-height:",e-80,"px;}",".fullScreen.ui-page .content textarea.single{min-height:280px;width:100%;}"].join("")};$(['<style id="fullScreenStyle">',e(),"</style>"].join("")).appendTo(document.head),$(window).on("throttledresize",function(){$("#fullScreenStyle").html(e())})});var viewJs={};viewJs.typesetting=function(e){return null==e?"":"&nbsp;&nbsp;&nbsp;"+e.replace(/\n/g,"<br>&nbsp;&nbsp;&nbsp;")},viewJs.setRem=function(e){var t=e.parents("html"),r=document.documentElement.clientWidth;r>600&&(r=480),t.css("font-size",r/16)},$(function(){var e=$("html"),t=document.documentElement.clientWidth;t>600&&(t=480),e.css("font-size",t/16)}()),viewJs.parseTime=function(e){var t=new Date,r=new Date(e),a=parseInt((t.getTime()-r.getTime())/1e3);return a<60?"刚刚":a<3600?Math.floor(a/60)+"分钟前":a<86400?t.getDate()-r.getDate()===1?"昨天":Math.floor(a/3600)+"小时前":a>=86400&&a<172800?t.getDate()-r.getDate()===1?"昨天":e.substring(5,10):a>=172800&&t.getYear()===r.getYear()?e.substring(5,10):e.substring(0,10)},viewJs.setSexMarkCls=function(e,t){return},viewJs.maskBusy=function(e,t){var r=arguments.callee.showKeys,a=$("#maskBusy-overlay");0==a.length&&(a=$('<div class="modalWindow" id="maskBusy-overlay"></div>'),$(document.body).append(a));for(var i,s,n,o=arguments.callee.maskMap,l=r.length-1;l>-1;l--)if(s=r[l],o[s]){n=!0;break}for(var l=r.length-1;l>-1;l--)if(s=r[l],s==t){i=!0;break}n||a.find(".modal-loading").remove(),i&&a.append(['<div id="mask_',s,'" class="modal-loading ui-footer-fixed">',e||"加载中","</div>"].join("")),a.show(),null!=t&&(o[t]=(new Date).getTime())},viewJs.maskBusy.maskMap={},viewJs.maskBusy.showKeys=["watchPosition","reading-img","ajaxForm","submitService","pre-reading"],viewJs.hideBusyMask=function(e){var t,r=!0;null!=e&&(null!=viewJs.maskBusy.maskMap&&(t=viewJs.maskBusy.maskMap[e],delete viewJs.maskBusy.maskMap[e]),null==viewJs.maskBusy.maskMap||$.isEmptyObject(viewJs.maskBusy.maskMap)||(r=!1));var a;null!=t&&(a=(new Date).getTime()-t),null!=a?(console.log(e+" cost "+a+"ms"),a=Math.max(500,1e3-a)):a=0,r&&(viewJs.maskBusy.maskMap={},$(".modalWindow").hide(a))},$(function(){viewJs.loadJs({varName:"loadingJs",url:"/js/plugin/loading/loading.js",title:"loading组件"})}),viewJs._formatUrlRegex=/https?:\/\/[^(\s)]+\s/g,viewJs._formatUrlRegex2=/< ?:\/\/[^(\s)]+\s/g,viewJs.formatUrl=function(e){return e},viewJs.isLockVerifyIdentity=function(e){return 0==e||3==e?null:1==e?"您已通过身份认证":"身份认证正在审核中"},viewJs.isEnterpriseVerifyIdentity=function(){var e=dmJs.sStore.getUserInfo();return null!=e&&(e=e.user,1==e.isIdcardValidated&&2==e.type)},viewJs.getReviewCmp=function(e,t,r){var a=dmJs.calGrade(e);a.user>0?t.addClass("isBtn"):t.removeClass("isBtn");var i=t.find(".star");i.empty();var s=viewJs.getStars(a);return i.append($(s.join(""))),a.grade>0&&t.find(".score").html(Number(a.grade).toFixed(1)),a.user>0?t.find(".reviewNumbers").html(a.user+"人评价"):t.find(".reviewNumbers").html("暂无评价"),t.data("reviewNumbers",e),t.data("extra",r),t},viewJs.keepHeight=function(){},viewJs.setDfReviewNumbers=function(e){},viewJs.getStars=function(e){for(var t=0,r=[];t<5;t++)t<=e.grade-1?r.push('<div class="starImg full"></div>'):t==e.halfStar?r.push('<div class="starImg half"></div>'):r.push('<div class="starImg empty"></div>');return r},viewJs.formatMoney=function(e){return Number(e).toFixed(2)},viewJs.fSyncVeryUserStatus=function(e){var t,r,a=e.length;if(0!=a){var i=dmJs.sStore.getUserInfo();if(i){for(var s=(i.user,{}),n=a-1;n>-1;n--)r=e[n],t=r.type,10!=t&&11!=t||(s=viewJs.fCompareVeryUserCreTime(s,r));s.creTime&&dmJs.sStore.syncUser(i.accessToken)}}},viewJs.fCompareVeryUserCreTime=function(e,t){var r=e.creTime,a=t.creTime;return r&&(!a||r>a)?e:t},viewJs.onVRadioChange=function(e){var t=$(e);t.parents(".vRadioGrp:first").find(".selected").removeClass("selected"),t.addClass("selected")},viewJs.showConfirmFinishPay=function(e,t,r){viewJs.dialogPop("支付已完成？",function(a){viewJs.afterConfirmFinishPay(e,t,{isOK:a,error:r})},"支付确认",{noText:"遇到问题",okText:"完成"})},viewJs.showUnionPay=function(e,t){var r=$("#unionPayDialog");0==r.length&&(r=$(['<div id="unionPayDialog"  class="dlgunionPayPop-overlay">','<div class="dlgPop-box ui-footer-fixed">','<div class="dlg-header">',"银联支付","</div>",'<div class="dlg-content">','<a data-role="button" data-theme="b" id="payByUnionPluginBtn"></a>','<a href="',unionSupport.pluginUrl,'" data-role="button" data-theme="b">下载银联控件</a>','<a data-role="button" data-theme="b" id="finishUnionPayButton">支付完成</a>',"</div>","</div>","</div>"].join("")).appendTo(document.body));var a=unionSupport.generateTag(e.unionpayTn,location.protocol+"//"+location.host+"/",!1);r.find("#payByUnionPluginBtn").replaceWith(a.attr("id","payByUnionPluginBtn")),r.appendTo($.mobile.activePage).enhanceWithin(),r.data("params",e),r.find("#finishUnionPayButton").unbind("click").bind("click",function(){var e=arguments.callee;e.busy||(e.busy=!0,setTimeout(function(){e.busy=!1},700),r.fadeOut(),$.isFunction(t)?viewJs.afterConfirmFinishPay(null,t):viewJs.navigator.pre())}),viewJs.top(),r.show()},viewJs.top=function(){$(window).scrollTop(1)},viewJs.afterConfirmFinishPay=function(e,t,r){var a=arguments;dmJs.sStore.syncBalance(function(){if(!r)return $.isFunction(t)?void t.apply(null,a):void(null!=e&&null!=e.serviceID?viewJs.navigator.next({next:{url:"./service.html",id:"startPage",options:{data:{serviceID:e.serviceID}}}}):viewJs.navigator.next({next:{url:"./",id:"startPage"}}));if(r.isOK){if($.isFunction(t))return void t()}else if($.isFunction(r.error))return void r.error()})},viewJs.createSlideImgs=function(e,t,r,a,i){function s(e,t){var e=e?e:0,t=t?t:0;$(this).css({"z-index":9,"-webkit-transition":" all "+t,"-moz-transition":" all "+t,"-ms-transition":" all "+t,"-o-transition":" all "+t,transition:" all "+t,"-ms-transform":"translateX("+e+")","-moz-transform":"translateX("+e+")","-webkit-transform":"translateX("+e+")",transform:"translateX("+e+")"})}function n(e){if(p.is(":hidden"))return clearTimeout(d.toggleImgHandler),void(d.toggleImgHandler=setTimeout(n,5e3));if(e){var t=v-1,r=($(window).width(),p.find('[iIndex="'+J%v+'"]')),a=p.find('[iIndex="'+(J+t)%v+'"]');s.apply(r),s.apply(a,["-100%"]),setTimeout(function(){s.apply(r,["100%",".5s"]),s.apply(a,[0,".5s"])},50),v>1&&(w.find(".current").removeClass("current"),w.find('[iIndex="'+(J+t)%v+'"]').addClass("current")),J+=t}else{var r=($(window).width(),p.find('[iIndex="'+J%v+'"]')),a=p.find('[iIndex="'+(J+1)%v+'"]');s.apply(r),s.apply(a,["100%"]),setTimeout(function(){s.apply(r,["-100%",".5s"]),s.apply(a,[0,".5s"])},50),v>1&&(w.find(".current").removeClass("current"),w.find('[iIndex="'+(J+1)%v+'"]').addClass("current")),++J}v>1&&(clearTimeout(d.toggleImgHandler),d.toggleImgHandler=setTimeout(n,5e3))}function o(){l(),b=setTimeout(function(){j=!1},600)}function l(){clearTimeout(b),j=!0}var u,c=window.sliderMap;null==c&&(c=window.sliderMap={});var d=c[r];null==d?d=c[r]={}:(d.remove(),delete c[r],d=c[r]={}),d.remove=function(){clearTimeout(this.toggleImgHandler)};var m,v=e.length,g=0,f=[];t.empty().html(['<div class="slideImgsCtr" style="width:100%">','<div class="slideImgs">',"</div>",1==v?"":['<table class="imgSliderBtns">',"<tbody>","<tr></tr></tbody>","</table>"].join(""),"</div>"].join(""));var p=t.find(".slideImgs"),h=$(window).width(),J=0,w=t.find(".imgSliderBtns tr");w.empty();var h=$(window).width(),y=Math.floor(Math.min(h/a.width*a.height,a.height));for(p.height(y);g<v;g++)m=e[g],f.push('<div class="slide slider item" style="height:',y,"px;left:",0,"%;background-image:url(",m,')" iIndex="',g,'"></div>'),v>1&&w.append(['<td class="svrImgSlider',0==g?" current":"",'" iIndex="',g,'"></td>'].join(""));p.append(f.join(""));var b,j=!1;return u=function(e){t.unbind("touchstart touchend"),t.find(".slide.item").unbind("swipeleft swiperight touchend vclick"),e&&(t.on("touchstart touchend",function(e){e.preventDefault()}),t.find(".slide.item").on("swipeleft swiperight",function(e){l(),clearTimeout(d.toggleImgHandler),n("swiperight"==e.type),o()}).on("touchend vclick",function(e){e.preventDefault(),j||$(this).trigger("sliderClick")}))},v>1?(d.toggleImgHandler=setTimeout(n,5e3),p.slider=d,u(!0)):u(),p},viewJs.toConfirmLogout=function(){viewJs.dialogPop("确定退出？",function(e){e&&dmJs.sStore.logout(function(){$("#account .backBtn").click(),viewJs.afterToggleLogin();var e={id:"startpage",url:"./"};viewJs.navigator.next({next:e})})})},viewJs.chkPermission=function(e){var e=$.trim(e||$.mobile.activePage.attr("id"));return viewJs.jsConfig.__needNotLogin.search(","+e+",")==-1},viewJs.getVerifyCode=function(e){var t=$.mobile.activePage,r=t.find(".phone input").val(),a=t.find(".securityCode input").val(),i=t.find(".securityCode > img").data("tempCode");r=$.trim(r),dmJs.getVerifyCode({mobile:r,verifyCode:a,tempCode:i},function(e){dmJs.sStore.save("tempAccessToken",e.tempAccessToken),dmJs.sStore.save("tempAccessToken_mobile",r),viewJs.setClock(t.find(".vbt.sendCode"),{html:"（{0}）重新获取",time:60}),viewJs.showPopMsg("验证码已发送")})},viewJs.clearRegister=function(){var e=$.mobile.activePage;viewJs.clearClock(e.find(".vbt.sendCode"),"获取验证码")},viewJs.clearClock=function(e,t){clearInterval(e.data("clockHandler")),e.html(t||e.data("normalHtml")).removeClass("busy")},viewJs.setClock=function(e,t,r){var a=t.html,i=t.time;e.html(a.replace("{0}",""+i)),e.addClass("busy").data("normalHtml","获取验证码"),e.data("clockHandler",setInterval(function(){return--i,i<=0?("function"==typeof r&&r(),void viewJs.clearClock(e)):void e.html(a.replace("{0}",""+i))},1e3))},viewJs.delayCancelBusy=function(e){setTimeout(function(){e.busy=!1},500)},viewJs.showPopMsg=function(e){var t=$(document.body);t.find(".popMsg.ui-footer-fixed>.popCt").remove();var r,a=$(['<div class="popMsg ui-footer-fixed">','<span class="popCt">',e,"</span>","</div>"].join("")).prependTo(t);t.find(".popMsg.ui-footer-fixed:visible:eq(0)");r=.7*$(window).height(),a.css({top:r}).show().fadeOut(5e3),setTimeout(function(){a.remove()},5e3)},viewJs.validInput=function(){var e=$(this),t=e.val()+"",r=e.attr("data-format"),a=$.trim(e.attr("maxlength"));switch(r){case"alphanumeric":t=t.replace(/[^0-9a-zA-Z]/g,"");break;case"decimal":t=t.replace(/[^\d\.]/g,"").replace(/.*\./g,"0.").replace(/^0{2,}/,"0"),Number(t)>1&&(t=("0."+t).substring(0,2));break;case"number":t=t.replace(/[^\d]/g,"")}if($.isNumeric(a)){var a=Number(a);r?t=t.substring(0,a):(clearTimeout(e.data("maxLengthHandler")),e.data("maxLengthHandler",setTimeout(function(){var t=e.val()+"";t=viewJs.subStr(t,a),e.val(t)},300)))}r&&e.val(t)},viewJs.showPopTip=function(e){var t=($.mobile.activePage,$(e.el));t.siblings(".elTip").remove();var r=$(['<div class="popMsg elTip" style="width:auto;height:40px;position:absolute;">','<span class="popCt" style="border-radius:5px;">',e.msg,"</span>","</div>"].join("")).insertBefore(t),a=t.offset();return r.offset({top:a.top+t.height(),left:a.left}).show(),r.delay(1500),r},viewJs._repSymbolLists=[{r:/</g,t:"＜"},{r:/>/g,t:"＞"},{r:/\[/g,t:"［"},{r:/\]/g,t:"］"}],viewJs.replaceSymbol=function(e){for(var t,r=viewJs._repSymbolLists,a=r.length-1;a>-1;a--)t=r[a],e=e.replace(t.r,t.t);return e},viewJs.formateVideoUrl=function(e){e.undelegate().delegate("a[video-youku]","vclick",function(e){e.preventDefault(),viewJs.showVideo($(this).attr("video-youku"))}),e.find("a").each(function(e,t){var r=$(t),a=$.trim(r.attr("href"));if(""!=a&&!(a.indexOf("player.youku.com/embed")<0)){var i=a.replace(/^.*\//,"").replace(/\..*$/,"");r.attr("video-youku",i).attr("href","#")}})},viewJs.showVideo=function(e){viewJs.dialogPop('<iframe id="video_frame" src="http://player.youku.com/embed/'+e+'" height=225 width=236  frameborder=0 allowfullscreen></iframe>',function(){$("#video_frame").remove()},"视频播放",{onlyBtnOk:!0,okText:"关闭"})},viewJs.dialogPop=function(e,t,r,a){var i=$.mobile.activePage;if(null!=i){var s=$("#dialogPopMsg");0==s.length&&(s=$(['<div id="dialogPopMsg" class="dlgPop-overlay" style="background-color:rgba(0,0,0,.3);">','<div class="dlgPop-box ui-corner-all ui-footer-fixed">','<div class = "dlgPop-img">','<div class="delete" ></div></div>','<div class="dlgPop-title">确认</div>','<div class="dlgPop-content "></div>','<div class="dlgPop-btn-bar">','<a class="dlgPop-btn cancel">取消</a>','<a class="dlgPop-btn confirm">确认</a>',"</div>","</div>","</div>"].join("")).hide()),i.append(s);var a=a||{};a.onlyBtnOk?s.find(".dlgPop-btn-bar").addClass("onlyBtnOk"):(s.find(".dlgPop-btn-bar").removeClass("onlyBtnOk"),s.find(".dlgPop-btn.cancel").text(a.noText||"取消").show()),s.find(".dlgPop-btn.confirm").text(a.okText||"确认"),s.find(".dlgPop-title").html(r||"提示"),s.find(".dlgPop-content").html(e);var n=s.find(".dlgPop-btn").unbind("click");setTimeout(function(){n.unbind("click").bind("click",function(){s.hide(),$.isFunction(t)&&t($(this).is(".confirm"))}),s.find(".delete").bind("click",function(){setTimeout(function(){s.remove()},100)})},500),viewJs.top(),a.front?s.addClass("front"):s.removeClass("front"),s.removeClass(s.data("cls")),a.cls?(s.addClass(a.cls),s.data("cls",a.cls)):s.data("cls",null),s.show()}else alert(e)},viewJs.validate=function(e){var t=e.val,r=e.name;if(""==t||null==t){if(e.must)return r+"不能为空"}else{var a=t.length;if(e.minLength&&a<e.minLength)return r+" "+e.minLength+"~"+e.maxLength+"位";if(e.maxLength&&a>e.maxLength)return r+" "+e.minLength+"~"+e.maxLength+"位"}},viewJs.onPhoneInput=function(e){var t=$(e),r=$.trim(t.val()).replace(/\D/g,"");t.val(r),""==r?t.parent().siblings(".vbt.sendCode").removeClass("enable"):t.parent().siblings(".vbt.sendCode").addClass("enable")},viewJs.navigator={extraParams:{},histroy:{},transition:"fade",init:function(){this.transition="none"},setExtraParam:function(e,t){var r=this.extraParams[e];null==r&&(r=this.extraParams[e]={}),$.extend(r,t)},getExtraParams:function(e){return this.extraParams[e]},clearExtraParam:function(e){delete this.extraParams[e]},df:{orderDetail:{url:"./buyorder.html"},services:{url:"./"},account:{url:"./mine.html"},myOrders:{url:"./mine.html"},favorite:{url:"./mine.html"},mine:{url:"./"},search:{url:"./"},changeCity:{url:"./"},changePwd:{url:"./account.html"},addService:{url:"./"},selCategories:{url:"./addService.html",navigate:"#addService"},selServiceTags:{url:"./addService.html",navigate:"#addService"},addServiceWantDesc:{url:"./addService.html",navigate:"#addService"},verifyUser:{url:"./account.html"}},next:function(e){this.init();var t=($.mobile.activePage,e.next);if(e.lastAuto&&(e.last=this.getLastByCurrent()),e.last){var r=e.last.id;"confirmOrder"==r&&"service"==t.id?console.log("sss"):dmJs.sStore.save("pre-"+t.id,e.last)}var a=e.extra;null!=a&&a.params?viewJs.navigator.setExtraParam(t.id,a.params):($("#"+t.id).remove(),this.clearExtraParam(t.id));var i=$.extend({transition:this.transition},t.options);$.mobile.changePage(t.url||t.href,i)},pre:function(e){this.init();var t=$.mobile.activePage,r=t.attr("id"),a=dmJs.sStore.get("pre-"+r);if(null==a?(a=this.df[r],null==a?(console.log(r+":前一个页面不存在"),a={url:"./"}):console.log(r+":默认前一个页面："+a)):($("#"+a.id).remove(),console.log([r,a]),dmJs.sStore.remove("pre-"+r)),null!=a.navigate)$.mobile.navigate(a.navigate);else{var i=$.extend({transition:this.transition},a.options);i.reverse="true";try{$.mobile.changePage(a.url||a.href,i)}catch(s){console.log(s),loaction.reload()}}},getLastByCurrent:function(){var e=$.mobile.activePage,t=$.mobile.path.parseUrl(location.href);return{id:e.attr("id"),href:t.hrefNoSearch,options:{data:mainJs.parseUrlSearch()}}}},viewJs.afterToggleLogin=function(){var e=dmJs.sStore.getUserInfo();null==e?$(document.body).removeClass("login"):($(document.body).addClass("login"),$(".loginName").html(e.user.realname))},viewJs.maskReadImg=function(e){viewJs.maskBusy(e||"图片读取中","reading-img")},viewJs.finishReadImg=function(){viewJs.hideBusyMask("reading-img")},viewJs.initPublishPage=function(){var e=dmJs.sStore.getUserInfo();return null==e?void dmJs.sStore.toLogin():void viewJs.toggleAddServiceEvents(!0)},viewJs.showApiError=function(e){dmJs.sStore.accessInvalid(e);var t,r=dmJs.i18n.getMsgs("msg_api");null==r?t=e.error:(t=r[e.error_code]||e.error,"20002"==e.error_code&&(t="验证码失效"));var a=e.callback;if(!a)switch(e.error_code){case"20201":case"20101":case"20503":case"20248":case"20249":a=function(){viewJs.navigator.pre()}}viewJs.dialogPop(t,function(){var e=null==$.mobile?null:$.mobile.activePage;null!=e&&e.find("input[autofocus]:first").focus(),null!=a&&a()},"错误",{onlyBtnOk:!0})},viewJs.testbroswer=function(){var e=navigator.userAgent,t=(parseFloat(navigator.appVersion),e.indexOf("Opera")>-1),r=e.indexOf("KHTML")>-1||e.indexOf("Konqueror")>-1||e.indexOf("AppleWebKit")>-1;if(r)var a=e.indexOf("Chrome")>-1,i=e.indexOf("AppleWebKit")>-1&&!a,s=e.indexOf("Konqueror")>-1;var n=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,o=e.indexOf("Gecko")>-1&&!r,l=!t&&!o&&!r&&!n&&0==e.indexOf("Mozilla")&&"Netscape"==navigator.appName&&fAppVersion>=4&&fAppVersion<=5,u="Win32"==navigator.platform||"Windows"==navigator.platform,c="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform;"X11"==navigator.platform&&!u&&!c;return t?"opera":a?"chrome":i?"safari":s?"konq":n?parseInt($.browser.version,10)<=6?"IE6":document.all&&!document.querySelector?"IE7":document.all&&document.querySelector&&!document.addEventListener?"IE8":"IE9+":o?"mozilla":l?"ns4":void 0},viewJs.jsConfig={__needNotLogin:",doSearchSvr,services,service,startpage,changeCity,reviews,u,moreServices,moreWants,register,signIn,",verifyUser:{url:"/js/user/verifyUser.js",varName:"verifyUserJs",title:"身份认证"},verifyTeacher:{url:"/js/user/verifyTeacher.js",varName:"verifyTeacherJs",title:"认证"},verifyTeacherIDCard:{url:"/js/user/verifyTeacherIDCard.js",varName:"verifyTeacherIDCardJs",title:"认证"},verifyEnterprise:{url:"/js/user/verifyEnterprise.js",varName:"verifyEnterpriseJs",title:"认证"},validateBankCard:[{url:"/js/common/validCard.js",varName:"validCardJs",title:"银行卡格式验证"},{url:"/js/user/validateBankCard.js",varName:"validateBankCardJs",title:"银行卡认证"}],courseTypes:{varName:"courseTypesJs",url:"/js/system/courseTypes.js",title:"课程分类"},market:{varName:"marketJs",url:"/js/service/market.js",title:"市场实践"},withdraw:[{url:"/js/common/validCard.js",varName:"validCardJs",title:"银行卡格式验证"},{varName:"withdrawJs",url:"/js/user/withdraw.js",title:"提现"}],resetPwd:{varName:"resetPwdJs",url:"/js/user/resetPwd.js",title:"重置密码"},recommend:{varName:"recSvrsJs",url:"/js/search/recSvrs.js",title:"推荐的服务"},signup:{varName:"signupJs",url:"/js/user/signup.js",title:"报名申请"},treasuresBox:{varName:"treasuresBoxJs",url:"/js/user/treasuresBox.js",title:"创新创业实践课程学习卡"},myWants:{varName:"myWantsJs",url:"/js/want/myWants.js",title:"我发布的需求"},myQuestions:{varName:"myQuestionsJs",url:"/js/want/myQuestions.js",title:"我发布的问题"},interact:{varName:"interactJs",url:"/js/want/interact.js",title:"直播互动"},myServices:{varName:"myServicesJs",url:"/js/service/myServices.js",title:"我发布的服务"},myDiplomas:{varName:"myDiplomasJs",url:"/js/user/myDiplomas.js",title:"成绩证书"},myTeachers:{varName:"myTeachersJs",url:"/js/user/myTeachers.js",title:"我的师资"},joinEnterprise:{varName:"joinEnterpriseJs",url:"/js/user/joinEnterprise.js",title:"师资邀请"},diploma:{varName:"diplomaJs",url:"/js/user/diploma.js",title:"成绩证书"},updateInfo:[{varName:"simpledatepickerJs",url:"/js/plugin/datepicker/simpledatepicker2.js",title:"日历"},{varName:"uploadAvatarJs",url:"/js/common/uploadAvatar.js",title:"头像插件"},{varName:"updateInfoJs",url:"/js/user/updateInfo.js",title:"修改用户信息"}],changeContactInfo:{varName:"changeContactInfoJs",url:"/js/user/changeContactInfo.js",title:"修改联系人"},recharge:{varName:"rechargeJs",url:"/js/user/recharge.js",title:"充值"},rechargeCourse:{varName:"rechargeCourseJs",url:"/js/user/rechargeCourse.js",title:"充值卡购课"},accountDetails:{varName:"accountDetailsJs",url:"/js/user/accountDetails.js",title:"充值"},doSearchSvr:{varName:"doSearchSvrJs",url:"/js/search/doSearchSvr.js",title:"搜素页面"},searchAll:{varName:"searchAllJs",url:"/js/search/searchAll.js",title:"搜素页面"},want:{varName:"wantJs",url:"/js/want/want.js",title:"需求详情"},question:{varName:"questionJs",url:"/js/want/question.js",title:"问题详情"},addService:[{varName:"publishJs",url:"/js/common/publish.js",title:"发布服务"},{varName:"addServiceJs",url:"/js/service/addService.js",title:"发布服务"}],addWant:[{varName:"publishJs",url:"/js/common/publish.js",title:"发布需求"},{varName:"addWantJs",url:"/js/want/addWant.js",title:"发布需求"}],addQuestion:[{varName:"publishJs",url:"/js/common/publish.js",title:"发布问题"},{varName:"addQuestionJs",url:"/js/want/addQuestion.js",title:"发布问题"}],addProgress:[{varName:"publishJs",url:"/js/common/publish.js",title:"发布问题"},{varName:"addProgressJs",url:"/js/service/addProgress.js",title:"添加众筹进展"}],addAnswer:[{varName:"publishJs",url:"/js/common/publish.js",title:"发布问题"},{varName:"addAnswerJs",url:"/js/service/addAnswer.js",title:"发布答案"}],selectVeifyType:{varName:"selectVeifyTypeJs",url:"/js/user/selectVeifyType.js",title:"选择认证类型"},submitOrder:{varName:"submitOrderJs",url:"/js/service/submitOrder.js",title:"提交订单"},addReview:{varName:"addReviewJs",url:"/js/service/addReview.js",title:"评价"},sysMessage:{varName:"sysMessageJs",url:"/js/message/sysMessage.js",title:"系统消息"},services:{varName:"searchResultJs",url:"/js/search/searchResult.js",title:"搜索结果"},liveList:{varName:"liveListJs",url:"/js/search/liveList.js",title:"直播列表"},service:{varName:"serviceJs",url:"/js/service/service.js",title:"服务详情"},course:[{varName:"courseJs",url:"/js/service/course.js",title:"课程详情"}],funding:[{varName:"fundingJs",url:"/js/service/funding.js",title:"众筹详情"}],report:{varName:"reportJs",url:"/js/service/report.js",title:"举报服务"},orderDetail:{varName:"orderDetailJs",url:"/js/service/orderDetail.js",title:"订单详情"},showReview:{varName:"showReviewJs",url:"/js/service/showReview.js",title:"评价详情"},buyorderDetail:{varName:"buyorderDetailJs",url:"/js/service/buyorderDetail.js",title:"订单详情new"},account:{varName:"accountJs",url:"/js/user/account.js",title:"账户管理"},mine:{varName:"mineJs",url:"/js/user/mine.js",title:"账户管理"},changeCity:{varName:"changeCityJs",url:"/js/system/changeCity.js",title:"城市列表"},startpage:{varName:"startpageJs",url:"/js/system/startpage.js",title:"首页"},reviews:{varName:"reviewsJs",url:"/js/service/reviews.js",title:"评价"},confirmOrder:{varName:"confirmOrderJs",url:"/js/service/confirmOrder.js",title:"支付"},u:{varName:"uJs",url:"/js/user/u.js",title:"用户详情"},moreServices:{varName:"moreServicesJs",url:"/js/user/moreServices.js",title:"用户服务"},moreWants:{varName:"moreWantsJs",url:"/js/user/moreWants.js",title:"用户需求"},favorite:{varName:"favoriteJs",url:"/js/user/favorite.js",title:"我的收藏"},follow:{varName:"followJs",url:"/js/user/follow.js",title:"我的关注"},myGroup1:{varName:"myGroup1Js",url:"/js/user/myGroup1.js",title:"我的团队成员"},mygroup:{varName:"mygroupJs",url:"/js/user/mygroup.js",title:"我的团队"},myProject:{varName:"myProjectJs",url:"/js/user/myProject.js",title:"我的项目组"},myLessons:{varName:"myLessonsJs",url:"/js/user/myLessons.js",title:"我的团队"},fans:{varName:"fansJs",url:"/js/user/fans.js",title:"我的粉丝"},userKPI:{varName:"userKPIJs",url:"/js/user/userKPI.js",title:"绩效指标"},selectPublish:{varName:"selectPublishJs",url:"/js/common/selectPublish.js",title:"选择发布类型"},calendar:{varName:"calendarJs",url:"/js/user/calendar.js",title:"日程表"},found:{varName:"foundJs",url:"/js/user/found.js",title:"发现"},myOrders:{varName:"myOrdersJs",url:"/js/user/myOrders.js",title:"我的订单"},buyorder:{varName:"buyorderJs",url:"/js/user/buyorder.js",title:"购买订单"},paySuccess:{varName:"paySuccessJs",url:"/js/service/paySuccess.js",title:"支付成功"},selectRegister:{varName:"selectRegisterJs",url:"/js/user/selectRegister.js",title:"注册"},register:{varName:"registerJs",url:"/js/user/register.js",title:"注册"},changePwd:{varName:"changePwdJs",url:"/js/user/changePwd.js",title:"修改密码"},matchWants:{varName:"matchWantsJs",url:"/js/search/matchWants.js",title:"匹配需求"},matchServices:{varName:"matchServicesJs",url:"/js/search/matchServices.js",title:"匹配服务"},wantResponses:{varName:"wantResponsesJs",url:"/js/service/wantResponses.js",title:"响应列表"},signIn:{varName:"signInJs",url:"/js/user/signIn.js",title:"登录"},loginWx:{varName:"loginWxJs",url:"/js/user/loginWx.js",title:"关联账号"},bindWx:{varName:"bindWxJs",url:"/js/user/bindWx.js",title:"关联账号"},bindPassword:{varName:"bindPasswordJs",url:"/js/user/bindPassword.js",title:"关联账号"},bindMobile:{varName:"bindMobileJs",url:"/js/user/bindMobile.js",title:"绑定手机号"},automaticWx:{varName:"automaticWxJs",url:"/js/user/automaticWx.js",title:"自动登录"},myInvitations:{varName:"myInvitationsJs",url:"/js/user/myInvitations.js",title:"我的邀请"},waitList:{varName:"waitListJs",url:"/js/user/waitList.js",title:"待付款/待确认/待评价"},blanceDetail:{varName:"blanceDetailJs",url:"/js/user/blanceDetail.js",title:"账单详情"},changePrice:{varName:"changePriceJs",url:"/js/user/changePrice.js",title:"修改订单"},present:{varName:"presentJs",url:"/js/user/present.js",title:"活动"},explain:{varName:"explainJs",url:"/js/user/explain.js",title:"活动规则"},teacherday:{varName:"teacherdayJs",url:"/js/user/teacherday.js",title:"活动"},teacherdayReceive:{varName:"teacherdayReceiveJs",url:"/js/user/teacherdayReceive.js",title:"活动"},teacherdayReceiveSucc:{varName:"teacherdayReceiveSuccJs",url:"/js/user/teacherdayReceiveSucc.js",title:"活动"},teacherdayShare:{varName:"teacherdayShareJs",url:"/js/user/teacherdayShare.js",title:"活动"},teacherdayExplain:{varName:"teacherdayExplainJs",url:"/js/user/teacherdayExplain.js",title:"活动"},learningCardReceive:{varName:"learningCardReceiveJs",url:"/js/user/learningCardReceive.js",title:"活动"},learningCardReceiveSucc:{varName:"learningCardReceiveSuccJs",url:"/js/user/learningCardReceiveSucc.js",title:"活动"},userRankDescribe:{varName:"userRankDescribeJs",url:"/js/user/userRankDescribe.js",title:"说明"},virtualCurrReceive:{varName:"virtualCurrReceiveJs",url:"/js/user/virtualCurrReceive.js",title:"活动"},virtualCurrReceiveSucc:{varName:"virtualCurrReceiveSuccJs",url:"/js/user/virtualCurrReceiveSucc.js",title:"活动"},operateByTeacher:{varName:"operateByTeacherJs",url:"/js/user/operateByTeacher.js",title:"活动"},schoolmaster:{varName:"schoolmasterJs",url:"/js/user/schoolmaster.js",title:"活动"},christmas:{varName:"christmasJs",url:"/js/user/christmas.js",title:"活动"},christmasQuestion:{varName:"christmasQuestionJs",url:"/js/user/christmasQuestion.js",title:"活动"},christmasExplain:{varName:"christmasExplainJs",url:"/js/user/christmasExplain.js",title:"活动说明"},innovationEvaluate:{varName:"innovationEvaluateJs",url:"/js/user/innovationEvaluate.js",title:"活动"},innovationEvaluateExplain:{varName:"innovationEvaluateExplainJs",url:"/js/user/innovationEvaluateExplain.js",title:"活动说明"},innovationEvaluateDetail:{varName:"innovationEvaluateDetailJs",url:"/js/user/innovationEvaluateDetail.js",title:"证书"},share:{varName:"shareJs",url:"/js/user/share.js",title:"分享"},jinDaoLecture:{varName:"jinDaoLectureJs",url:"/js/active/jinDaoLecture.js",title:"晋道大讲堂"},comActivity:{varName:"comActivityJs",url:"/js/active/comActivity.js",title:"公共活动"},puTianLecture:{varName:"puTianLectureJs",url:"/js/active/puTianLecture.js",title:"莆田会议讲座"},healthLecture:{varName:"healthLectureJs",url:"/js/active/healthLecture.js",title:"健康产学研"},pubSection:{varName:"pubSectionJs",
url:"/js/active/pubSection.js",title:"十大公众号评选"},liveAoDian:{varName:"liveAoDianJs",url:"/js/live/liveAoDian.js",title:"创新学堂直播课程"},"five-color":{varName:"fiveColorJs",url:"/js/user/five-color.js",title:"五色思维"}},viewJs.loadJs=function(e,t){var r=e;$.isArray(r)||(r=[r]);var t=t?t:{},a=r.length,i=null==t.index?t.index=0:t.index,s=$.extend({},r[i]);viewJs.maskBusy("初始化",s.varName),s.ns=s.ns||window,/^https?:/.test(s.url)||(s.url=mainJs.getResourceURL(s.url)+"?ver="+mainJs.publishVer),s.ajaxOpt={success:function(){viewJs.hideBusyMask(s.varName);var e=s.ns[s.varName];$.isFunction(e.init)&&e.init(),i<a-1?(t.index+=1,viewJs.loadJs(r,t)):$.isFunction(t.success)&&t.success()},error:function(){viewJs.hideBusyMask(s.varName),viewJs.dialogPop("加载"+(s.title||"组件")+"失败！",function(){$.isFunction(t.error)&&t.error()},"错误",{onlyBtnOk:!0})}},$.getJs(s)},viewJs.renderPage=function(e){var t=viewJs.jsConfig[e];null!=t&&viewJs.loadJs(t,{error:function(){viewJs.navigator.pre()}})},viewJs._maskLoadingMore=function(){var e=$("#maskLoadingMore");0==e.length?$(document.body).append(['<div id="maskLoadingMore" class="loading-dots-container ng-hide ui-footer-fixed">','<div class="background">&nbsp;</div>','<div class="line-wrapper">','<div class="line">','<div class="loading-dots horizontal one"></div>','<div class="loading-dots horizontal two"></div>','<div class="loading-dots horizontal three"></div>','<div class="loading-dots horizontal four"></div>',"</div>","</div>","</div>"].join("")).show():e.show()},viewJs.applyTpl_reg=/_tpl-[a-zA-Z\d\.]*/g,viewJs.applyTpl_fParse2=function(e,t){var r=e.indexOf(".");if(r>-1)return arguments.callee.call(null,e.substring(r+1),t[e.substring(0,r)]);var a=t[e];return null==a?"":a},viewJs.applyTpl=function(e,t){return e.replace(viewJs.applyTpl_reg,function(e){var r=e.substring(5);return viewJs.applyTpl_fParse2(r,t)})},viewJs.addPaperFooter=function(e,t,r,a,i){if(a>0){var s=mainJs.PAGE_SIZE,n={};n.hasPre=t>0?"":"disabled",n.hasNext=t+s<r?"":"disabled";var o=Math.ceil(t/s+.1);n.pagePre=o-1,n.pageNext=o+1,n.pageCurrentTotal=r<s?"1":[o,Math.ceil(r/s)].join("/"),e.push(viewJs.applyTpl(i,n))}else e.push('<div class="not_found_container font-gray" style="display: block"><div class="not-found-icon"></div> </div>')},viewJs._endLoadingMore=function(){$("#maskLoadingMore").fadeOut(2e3)},viewJs.noloadingMore=function(){$("#maskLoadingMore").hide(),viewJs.showPopMsg("客官，已经没有了，别费劲了")},viewJs.loadPage=function(e){var t,r=e.domain,a=e.evt,i=e.bLogin,s=e.param,n=e.url;if(i&&(t=dmJs.getAccessToken(),null==t))return void dmJs.sStore.toLogin({href:location.href});var o=0;if(a&&"vclick"==a.type){var l=$(a.target);if(l.is(".disabled"))return;o=(Number(l.attr("data-page-num"))-1)*mainJs.PAGE_SIZE}if(!r.busy){r.busy=!0;var u={};i&&(u.accessToken=t),u.pageSize=mainJs.PAGE_SIZE,$.extend(u,s),u.offset=o;var c=n.substring(n.indexOf("/")+1);dmJs._ajax({method:e.reqMethod,id:c,url:n,params:u,accessInvalid:function(){dmJs.sStore.toLogin({href:location.href})},callback:function(t){viewJs.parseList(t,$.extend(e,u))},error:function(){}}).complete(function(){viewJs.delayCancelBusy(r)})}},viewJs.typesetting=function(e){return null==e?"":"&nbsp;&nbsp;&nbsp;"+e.replace(/\n/g,"<br>&nbsp;&nbsp;&nbsp;")},viewJs.parseList=function(e,t){viewJs.top();for(var r,a=t.$content,i=t.tpl,s=t.paperTpl,n=t.itemParser,o=Number(t.offset),l=t.dataKey,u=e[l],c=e.total,d=u.length,m=$.mobile.activePage,v=[],g=0;g<d;g++)r=u[g],v.push(viewJs.applyTpl(i,n(r,t)));if(d>0){var f=mainJs.PAGE_SIZE,p={};p.hasPre=o>0?"":"disabled",p.hasNext=o+f<c?"":"disabled";var h=Math.ceil(o/f+.1);p.pagePre=h-1,p.pageNext=h+1,p.pageCurrentTotal=c<f?"1":[h,Math.ceil(c/f)].join("/"),v.push(viewJs.applyTpl(s,p))}else t.not_found||(v=['<div class="not_found_container font-gray" style="display: block"><div class="not-found-icon"></div> </div>']);a.html(v.join(""));var J=mainJs.parseUrlSearch();if("2016大赛"==J.keyword){var w=sessionStorage.getItem("lang"),y="en"==w?pubEnJs:pubCnJs;m.find(".pagePre").html(y.pagePrev),m.find(".pageNext").html(y.pageNext)}},viewJs.subStr=function(e,t){if(null==e||""==e)return e;for(var r,a=e.length,i=viewJs.getStrLen(e);i>t&&!(a<1);)r=e.charAt(a-1),e=e.substring(0,a-1),i-=viewJs.getStrLen(r),a--;return e},viewJs.getStrLen=function(e){var t,r,a,i=$.trim(e);return t=i.length,r=i.replace(/[\u0020-\u007f\uff61-\uff9f]/g,"").length,a=t+r},viewJs.chkLogin=function(e){var t=dmJs.sStore.getUserInfo();return null==t?void dmJs.sStore.toLogin(e||{id:$.mobile.activePage.id,url:location.href.replace(/\?.+/,""),options:{data:mainJs.parseUrlSearch()}}):t},viewJs.validate._regExps={url:/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},viewJs.validate.email=function(e){return this._regExps.email.test(e)},viewJs.validate.url=function(e){return this._regExps.url.test(e)},viewJs.getFocus=function(e){var t=0;if(document.selection){e.focus();var r=document.selection.createRange();if("TEXTAREA"===e.nodeName){var a=r.duplicate();a.moveToElementText(e);for(var t=-1;a.inRange(r);)a.moveStart("character"),t++}else"INPUT"===e.nodeName&&(r.moveStart("character",-e.value.length),t=r.text.length)}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},viewJs.bLoan=function(e){if($.isArray(e)){for(var t,r=e.length-1;r>-1;r--)"创新学堂贷款"==$.trim(e[r].tagName)&&(t=!0);return t}return"创新学堂贷款"==$.trim(e.tagName)},viewJs.setTitle=function(e,t){var t=t||$.mobile.activePage;document.title=e,t.find(".ui-title:first").html(e)};var unionSupport={};!function(){var e=navigator.userAgent;/UCBrowser/.test(e)?unionSupport.tag="embed":unionSupport.tag="a",browser.versions.android?unionSupport.pluginUrl="http://mobile.unionpay.com/getclient?platform=android&type=securepayplugin":unionSupport.pluginUrl="http://mobile.unionpay.com/getclient?platform=ios&type=securepayplugin"}(),unionSupport.generateTag=function(e,t,r){var a=["tn="+e,"resultURL="+encodeURIComponent("http://m.euming.com/union"),"usetestmode="+r].join(","),i=encodeURIComponent(Base64.encode(a)),s="";return s="a"==unionSupport.tag?'<a data-role="button" data-ajax="false" href="uppay://uppayservice/?style=token&paydata='+i+'">银联</a>':'<embed type="application/x-unionpayplugin" uc_plugin_id="unionpay" height="53" width="178"  paydata="'+i+'"></embed>',$(s)},$(function(){var e=window.dmJs={};e.isAndroid=/(Android)/i.test(navigator.userAgent),e.isIos=/(ios)/i.test(navigator.userAgent),e.params={geolocation:{id:1,city:"北京",longitude:"116.319784",latitude:"40.00496"}},e.i18n={getMsgs:function(t){return e.i18n[t+"_zh-CN"]}},e.data={categories:null,hasNext:!0,offset:0},e.getCategories=function(t,r){var a=arguments.callee;return a.busy=!0,null==e.data.categories?void $.get(mainJs.getApiUrl("/urming_quan/system/getCategories")).success(function(r,i,s){var n=$.parseJSON(r);return e.data.categories=n.categories,$.isFunction(t)&&t(n.categories),a.busy=!1,n.categories}).error(function(){viewJs.showPopMsg("网络错误"),$.isFunction(r)&&r(),a.busy=!1}):($.isFunction(t)&&(t(e.data.categories),a.busy=!1),e.data.categories)},e.getVerifyCode=function(t,r){""!=t.mobile&&e._ajax({id:"getVerifyCodeTmp",method:"POST",params:t,url:"/urming_quan/user/getVerifyCodeTmp",callback:r})},e.confirmService=function(t,r){var a=e.sStore.getUserInfo(),i={serviceOwnID:t,accessToken:a.accessToken};e._ajax({id:"useService",accessInvalid:function(){e.sStore.toLogin({url:"./buyorder.html"})},params:i,url:"/urming_quan/service/useService",callback:r})},e.getCategoryTags=function(t,r){e._ajax({params:t,dataType:"html",callback:r,id:"getCategoryTags",url:"/urming_quan/system/getCategoryTags"})},e._ajax=function(t){return $.ajax({cache:!1,url:mainJs.getApiUrl(t.url),type:"POST"==t.method?"POST":"GET",data:t.params,dataType:t.dataType,success:function(r,a,i){viewJs.hideBusyMask(t.id);try{var s=$.parseJSON(r)}catch(n){var s=r}return s.error?e.sStore.accessInvalid(s)?void($.isFunction(t.accessInvalid)?t.accessInvalid():(e.sStore.logout(),e.sStore.toLogin())):void(s.error_code>=20257&&s.error_code<=20261||20265==s.error_code?viewJs.navigator.next({next:{url:"./index.html",id:"startpage",options:{}},lastAuto:!1}):viewJs.showApiError(t.preError?t.preError(s):s)):void($.isFunction(t.callback)&&t.callback(s))},error:function(){viewJs.hideBusyMask(t.id),viewJs.showPopMsg("网络错误"),$.isFunction(t.error)&&t.error()}})},e.getAccessToken=function(){var t=e.sStore.getUserInfo();return null!=t?t.accessToken:null},e.findCatById=function(t,r){viewJs.maskBusy(null,"findCatById"),e.getCategories(function(e){viewJs.hideBusyMask(null,"findCatById");for(var a,i=e.length-1;i>-1&&(a=e[i],a.id!=t);i--);$.isFunction(r)&&r(a)},function(){viewJs.hideBusyMask(null,"findCatById"),viewJs.showPopMsg("加载分类错误")})},e.calGrade=function(e){for(var t,r=$.trim(e).split(","),a=0,i=0,s=-1,n=-1,o=[],l=0;l<5;l++)t=Number(r[l]),t>s&&(s=t,n=l+1),o[l]=t,a+=t*(l+1),i+=t;if(0==i)return{user:i,grade:0,maxNum:s,maxScore:n,nums:o};var u=Math.round(10*a/i)/10,c=u-Math.floor(u);return c>0&&(c=u-c),{user:i,grade:u,halfStar:c,maxNum:s,maxScore:n,nums:o}},e.ajaxForm=function(t,r,a,i){var i=i||{},s=i.reqId||"ajaxForm";return $.ajax({url:r,type:"POST",data:t,dataType:"text",processData:!1,contentType:!1,success:function(t){viewJs.hideBusyMask(s);var r=$.parseJSON(t),i=e.sStore.accessInvalid(r);return i?(viewJs.showApiError(r),void e.sStore.toLogin()):r.error?void viewJs.showApiError(r):void($.isFunction(a)&&a(r))},error:function(){viewJs.showPopMsg("网络错误"),viewJs.hideBusyMask(s)},xhr:function(){var e=new XMLHttpRequest;return e}})},e.getAreasByParentId=function(e,t,r){var a="childCity_"+e;localStorage.getItem(a),null==localStorage.getItem(a)?(viewJs.maskBusy(null,"getAreasByParentId"),$.get(mainJs.getApiUrl("/urming_quan/system/getAreasByParentId?_d="+Date.now()),{parentID:e}).success(function(e){localStorage.setItem(a,e),$.isFunction(t)&&t($.parseJSON(e)),viewJs.hideBusyMask("getAreasByParentId")}).error(function(){$.isFunction(r)&&r(arguments),viewJs.hideBusyMask("getAreasByParentId")})):$.isFunction(t)&&t($.parseJSON(localStorage.getItem(a)))},e.initData=function(){localStorage.removeItem("cities");var t=e.sStore.get("geolocation");null!=t?e.params.geolocation=t:mainJs.getPos(),e.loadI18n(),viewJs.afterToggleLogin()},e.loadI18n=function(){var t=10;localStorage.removeItem("msg_api_zh-CN"),localStorage.removeItem("msg_api_zh-CN_v2"),localStorage.removeItem("TFLDic2");var r=localStorage.getItem("msg_api_zh-CN_ver");r&&(r=$.parseJSON(r),r.ver<t&&(r=null,localStorage.removeItem("msg_api_zh-CN_ver"))),null==r?$.getJSON(mainJs.getResourceURL("/i18n/zh-CN/msg_api_v2.txt?ver="+t),function(t,r,a){e.i18n["msg_api_zh-CN"]=t,localStorage.setItem("msg_api_zh-CN_ver",a.responseText)}).error(function(){}):null==e.i18n["msg_api_zh-CN"]&&(e.i18n["msg_api_zh-CN"]=r)},e.fetchDataforLoginUser=function(e){$.isFunction(e)&&e()},e.lStore={data:{},save:function(e,t){var r="ls-"+e;this.data[r]=t,localStorage.setItem(r,JSON.stringify(t))},get:function(e){var t=this,r="ls-"+e,a=t.data[r];return null!=a&&""!=a||(a=t.formatVal(r),null!=a&&(a=$.parseJSON(a),t.data[r]=a)),a},formatVal:function(e){var t=localStorage.getItem(e);if("null"==t||"undefined"==t){var r=this;r.data[e]=value,t=null}return t},remove:function(e){var t=this,r="ls-"+e;delete t.data[r],localStorage.removeItem(r)}},e.hasLogin=function(){return null!=this.sStore.getStr("currentUser")},e.sStore={data:{},save:function(e,t){if(!$.isEmptyObject(t)){var r="authz-"+e;sessionStorage.setItem(r,JSON.stringify(t))}},getLoginUser:function(t){var r,a=this;if(a.alreadySyncByCookie&&$.isFunction(t))return void t();var i=e.getAccessToken();return""!=$.trim(i)?void t():(r=e.lStore.get("cookieAccessToken"))?(r=r.val,void a.syncUser(r,function(e){a.alreadySyncByCookie=!0,$.isFunction(t)&&t()},function(){e.lStore.remove("cookieAccessToken"),a.alreadySyncByCookie=!0,$.isFunction(t)&&t()})):void t()},syncUser:function(t,r,a){var i=this;e._ajax({id:"getLoginUserInfo",url:"urming_quan/user/getUserByAccessToken",params:{accessToken:t},accessInvalid:function(){$.isFunction(a)&&a()},callback:function(e){e.accessToken=t,i.saveLoginInfo(e),$.isFunction(r)&&r()}})},get:function(t){var r=this,a="authz-"+t,i=e.sStore.data[a];return null!=i&&""!=i||(i=r.formatVal(a),null!=i&&(i=$.parseJSON(i))),i},getStr:function(e){var t="authz-"+e;return sessionStorage.getItem(t)},remove:function(t){var r="authz-"+t;delete e.sStore.data[r],sessionStorage.removeItem(r)},saveLoginInfo:function(t){var r=this;e.lStore.save("cookieAccessToken",{val:t.accessToken}),r.save("currentUser",t)},logout:function(t){var r=this,a=r.getUserInfo();if(null!=a){$.get(mainJs.getApiUrl("/urming_quan/user/logout"),{accessToken:a.accessToken}).complete(function(){r.remove("currentUser"),e.lStore.remove("cookieAccessToken"),$.isFunction(t)&&t()})}else e.lStore.remove("cookieAccessToken"),r.remove("currentUser"),$.isFunction(t)&&t();viewJs.afterToggleLogin()},getUserInfo:function(){var e=this,t=e.get("currentUser");return null!=t&&(t.saveSelf=function(){e.saveLoginInfo(this)}),t},formatVal:function(e){var t=sessionStorage.getItem(e);if("null"==t||"undefined"==t){t=null}return t},reLogin:function(e){this.logout(),this.toLogin(e)},login:function(e,t){var r=this;r.remove("currentUser"),r.logout(function(){var t=mainJs.getApiUrl("/urming_quan/user/login");e.password=mainJs.md5(e.password),$.post(t,e,function(e,t,a){var i=$.parseJSON(e);if(null!=i.error)return void viewJs.showApiError(i);r.saveLoginInfo(i),viewJs.afterToggleLogin();var s=r.getSuccessTo("successTo");return null==s?void viewJs.navigator.next({next:{url:"./",id:"startPage"}}):(r.clearSuccessTo(),null==s.url&&null==s.href?void viewJs.navigator.next({next:{url:"./",id:"startPage"}}):void viewJs.navigator.next({next:{url:s.url||s.href,id:s.id,options:s.options},last:s.last}))}).error(function(){viewJs.showPopMsg("网络错误")})})},clearSuccessTo:function(){var e=this;e.remove("successTo")},getSuccessTo:function(){var e=this;return e.get("successTo")},saveSuccessTo:function(e){if(!$.isEmptyObject(e)){var t=this;t.save("successTo",e)}},accessInvalid:function(t){var r=this,a="20001"==t.error_code||"20003"==t.error_code;return a&&(e.lStore.remove("cookieAccessToken"),r.remove("currentUser"),viewJs.showPopMsg(urmingTips.accessInvalid)),a},toLogin:function(e){var t=this;return null!=e?t.saveSuccessTo(e):t.saveSuccessTo({url:"./"}),"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?void(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx3b462eee381207f3&redirect_uri=http%3A%2F%2Fm.edu.euming.com%2Flogin.html%3F&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect"):void viewJs.navigator.next({next:{url:"./login.html",id:"signIn"}})},syncBalance:function(t){var r=this,a=r.getUserInfo();return null==a?void r.toLogin():void e._ajax({maskText:"同步用户信息",id:"syncBalance",url:"/urming_quan/user/getUserPageByAccessToken",params:{accessToken:a.accessToken,type:2},callback:function(e){a.user=e.user,r.saveLoginInfo(a),$.isFunction(t)&&t()}})}},e.initData()}),pubCnJs={publishTitle:"发布赛事项目",namedec:"2到30个字",projectName:"项目名称",categories:"项目分类",contact:"联系方式",contactCon:"联系方式",introduction:"项目介绍",introdec:"详细的介绍，能吸引更多支持者呦",phone:"电话",email:"邮箱",WeChat:"微信",picture:"添加图片",insertLink:"插入链接",decmore:"附件请上传至第三方网盘供应商，然后在项目介绍中填入加密下载链接",dec:"描述",submit:"完成",pubSub:"发布",catPlaceh:"利于查找和管理哦~例:创新、实践",exit:"退出",chioseTag:"选择分类",tagTip:'点击<span class="v-fill-tag-icon">　</span>才能完成标签的输入哦！',tag:"手动输入标签",setTag:"选择标签",searchTitle:"赛事项目",pagePrev:"上一页",pageNext:"下一页",linkNamePlace:"请输入链接名称",linkValuePlace:"请输入链接地址",linkValue:"链接地址",linkName:"链接名称",turnLang:"To English"},pubEnJs={publishTitle:"Publish",namedec:"a maximum of 30 characters",projectName:"Title",categories:"category",contact:"Contact",contactCon:"contact content",introduction:"Project introduction",introdec:"detailed description",phone:"Phone",email:"Email",WeChat:"WeChat ID",picture:"Add Pic",insertLink:"Insert link",decmore:"Annexes please upload to third-party Web site provider, Then fill in the introduction to encrypt download links",dec:"Desc.",submit:"submit",pubSub:"submit",catPlaceh:"tags",exit:"Exit",chioseTag:"Chiose Tags",tagTip:'Check<span class="v-fill-tag-icon">　</span> to chiose this tag！',tag:"write a tag",setTag:"Set Tag",searchTitle:"Event Project",pagePrev:"Prev",pageNext:"Next",linkNamePlace:"Name Of Link ",linkValuePlace:"Address Of Link",linkValue:"Address",linkName:"Name",turnLang:"切换到中文"},serviceCnJs={title:"参赛项目详情",buy:"支持",collect:"收藏",categories:"分 类",creTime:"发布时间",reviewNumbers:"暂无评价",provider:'<span class="prePageTitle">参赛项目提供者</span>',svrDetail:'<span class="prePageTitle">参赛项目描述</span>',report:"举报",exit:"退出",pubSub:"确定",turnLang:"To English"},serviceEnJs={title:"Project",buy:"Support",collect:"Collect ",categories:"Category",creTime:"Published Time",reviewNumbers:"No Review",provider:'<span class="prePageTitle">Provider</span>',svrDetail:'<span class="prePageTitle">Project Introduction</span>',report:"Report",exit:"Exit",pubSub:"submit",turnLang:"切换到中文"},registCnjs={signUp:"公众号注册",group:"公司/机构/学校",project:"项目/团队",userName:"用户名",userNameP:"4-20位字母、数字或下划线",realname:"公众号",realnameP:"机构、企业名称",contactRealname:"联系人",contactRealnameP:"联系人姓名",securityCode:"验证码",securityCodeP:"图片验证码",phoneName:"手机号",phoneNameP:"联系人手机号",phoneCodeR:"获取验证码",phoneCode:"验证码",phoneCodeP:"短信验证码",passWord:"密码",passWordP:"密码",hide:"隐藏",agree:"我已阅读并接受",term:"《创新学堂使用协议》",submit:"提交",toLogin:"登录",toRegister:"注册",tip:"手机号仅作为公众号消息接收、联络，不能用于登录"},registEnjs={signUp:"Sign Up",group:"Co./Org./School",project:"Project/Group",userName:"User Name",userNameP:"4-20letters,numbers,or underscores",realname:"Name",realnameP:"Name of organizations",contactRealname:"Contact",contactRealnameP:"Contact Name",securityCode:"ReCaptcha",securityCodeP:"Please enter the graphical verification code",phoneName:"Mobile phone",phoneNameP:"Mobile phone",phoneCodeR:"Get Code",phoneCode:"ReCaptcha",phoneCodeP:"SMS verification code",passWord:"Password",passWordP:"Password",hide:"Hide",agree:"By signing up, you agree to our <br/>",term:"《Terms Of Use&Privacy Policy》",submit:"Submit",toLogin:"Sign In",toRegister:"Sign Up",tip:"Mobile phone are used only for receiving account information,cannot be used to log on"};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,a,i,s,n,o,l="",u=0;for(e=Base64._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),r=e.charCodeAt(u++),a=e.charCodeAt(u++),i=t>>2,s=(3&t)<<4|r>>4,n=(15&r)<<2|a>>6,o=63&a,isNaN(r)?n=o=64:isNaN(a)&&(o=64),l=l+this._keyStr.charAt(i)+this._keyStr.charAt(s)+this._keyStr.charAt(n)+this._keyStr.charAt(o);return l},decode:function(e){var t,r,a,i,s,n,o,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)i=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),n=this._keyStr.indexOf(e.charAt(u++)),o=this._keyStr.indexOf(e.charAt(u++)),t=i<<2|s>>4,r=(15&s)<<4|n>>2,a=(3&n)<<6|o,l+=String.fromCharCode(t),64!=n&&(l+=String.fromCharCode(r)),64!=o&&(l+=String.fromCharCode(a));return l=Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",r=0,a=c1=c2=0;r<e.length;)a=e.charCodeAt(r),a<128?(t+=String.fromCharCode(a),r++):a>191&&a<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&a)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),r+=3);return t}},urmingTips={html5NotSpport:"请选择现代浏览器(chrome,uc)并保证版本较新。",webStorageLimit:"本地存储受限，请关闭无痕浏览模式。",accessInvalid:"登录失效：过期或其它设备登录"},urmingLabels={dfUserDesc:"暂时还没有填写"},isEnableDebug=!0,mainJs={};!function(e){"use strict";function t(e,t){var r=(65535&e)+(65535&t),a=(e>>16)+(t>>16)+(r>>16);return a<<16|65535&r}function r(e,t){return e<<t|e>>>32-t}function a(e,a,i,s,n,o){return t(r(t(t(a,e),t(s,o)),n),i)}function i(e,t,r,i,s,n,o){return a(t&r|~t&i,e,t,s,n,o)}function s(e,t,r,i,s,n,o){return a(t&i|r&~i,e,t,s,n,o)}function n(e,t,r,i,s,n,o){return a(t^r^i,e,t,s,n,o)}function o(e,t,r,i,s,n,o){return a(r^(t|~i),e,t,s,n,o)}function l(e,r){e[r>>5]|=128<<r%32,e[(r+64>>>9<<4)+14]=r;var a,l,u,c,d,m=1732584193,v=-271733879,g=-1732584194,f=271733878;for(a=0;a<e.length;a+=16)l=m,u=v,c=g,d=f,m=i(m,v,g,f,e[a],7,-680876936),f=i(f,m,v,g,e[a+1],12,-389564586),g=i(g,f,m,v,e[a+2],17,606105819),v=i(v,g,f,m,e[a+3],22,-1044525330),m=i(m,v,g,f,e[a+4],7,-176418897),f=i(f,m,v,g,e[a+5],12,1200080426),g=i(g,f,m,v,e[a+6],17,-1473231341),v=i(v,g,f,m,e[a+7],22,-45705983),m=i(m,v,g,f,e[a+8],7,1770035416),f=i(f,m,v,g,e[a+9],12,-1958414417),g=i(g,f,m,v,e[a+10],17,-42063),v=i(v,g,f,m,e[a+11],22,-1990404162),m=i(m,v,g,f,e[a+12],7,1804603682),f=i(f,m,v,g,e[a+13],12,-40341101),g=i(g,f,m,v,e[a+14],17,-1502002290),v=i(v,g,f,m,e[a+15],22,1236535329),m=s(m,v,g,f,e[a+1],5,-165796510),f=s(f,m,v,g,e[a+6],9,-1069501632),g=s(g,f,m,v,e[a+11],14,643717713),v=s(v,g,f,m,e[a],20,-373897302),m=s(m,v,g,f,e[a+5],5,-701558691),f=s(f,m,v,g,e[a+10],9,38016083),g=s(g,f,m,v,e[a+15],14,-660478335),v=s(v,g,f,m,e[a+4],20,-405537848),m=s(m,v,g,f,e[a+9],5,568446438),f=s(f,m,v,g,e[a+14],9,-1019803690),g=s(g,f,m,v,e[a+3],14,-187363961),v=s(v,g,f,m,e[a+8],20,1163531501),m=s(m,v,g,f,e[a+13],5,-1444681467),f=s(f,m,v,g,e[a+2],9,-51403784),g=s(g,f,m,v,e[a+7],14,1735328473),v=s(v,g,f,m,e[a+12],20,-1926607734),m=n(m,v,g,f,e[a+5],4,-378558),f=n(f,m,v,g,e[a+8],11,-2022574463),g=n(g,f,m,v,e[a+11],16,1839030562),v=n(v,g,f,m,e[a+14],23,-35309556),m=n(m,v,g,f,e[a+1],4,-1530992060),f=n(f,m,v,g,e[a+4],11,1272893353),g=n(g,f,m,v,e[a+7],16,-155497632),v=n(v,g,f,m,e[a+10],23,-1094730640),m=n(m,v,g,f,e[a+13],4,681279174),f=n(f,m,v,g,e[a],11,-358537222),g=n(g,f,m,v,e[a+3],16,-722521979),v=n(v,g,f,m,e[a+6],23,76029189),m=n(m,v,g,f,e[a+9],4,-640364487),f=n(f,m,v,g,e[a+12],11,-421815835),g=n(g,f,m,v,e[a+15],16,530742520),v=n(v,g,f,m,e[a+2],23,-995338651),m=o(m,v,g,f,e[a],6,-198630844),f=o(f,m,v,g,e[a+7],10,1126891415),g=o(g,f,m,v,e[a+14],15,-1416354905),v=o(v,g,f,m,e[a+5],21,-57434055),m=o(m,v,g,f,e[a+12],6,1700485571),f=o(f,m,v,g,e[a+3],10,-1894986606),g=o(g,f,m,v,e[a+10],15,-1051523),v=o(v,g,f,m,e[a+1],21,-2054922799),m=o(m,v,g,f,e[a+8],6,1873313359),f=o(f,m,v,g,e[a+15],10,-30611744),g=o(g,f,m,v,e[a+6],15,-1560198380),v=o(v,g,f,m,e[a+13],21,1309151649),m=o(m,v,g,f,e[a+4],6,-145523070),f=o(f,m,v,g,e[a+11],10,-1120210379),g=o(g,f,m,v,e[a+2],15,718787259),v=o(v,g,f,m,e[a+9],21,-343485551),m=t(m,l),v=t(v,u),g=t(g,c),f=t(f,d);return[m,v,g,f]}function u(e){var t,r="";for(t=0;t<32*e.length;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function c(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;for(t=0;t<8*e.length;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function d(e){return u(l(c(e),8*e.length))}function m(e,t){var r,a,i=c(e),s=[],n=[];for(s[15]=n[15]=void 0,i.length>16&&(i=l(i,8*e.length)),r=0;16>r;r+=1)s[r]=909522486^i[r],n[r]=1549556828^i[r];return a=l(s.concat(c(t)),512+8*t.length),u(l(n.concat(a),640))}function v(e){var t,r,a="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=a.charAt(t>>>4&15)+a.charAt(15&t);return i}function g(e){return unescape(encodeURIComponent(e))}function f(e){return d(g(e))}function p(e){return v(f(e))}function h(e,t){return m(g(e),g(t))}function J(e,t){return v(h(e,t))}function w(e,t,r){return t?r?h(t,e):J(t,e):r?f(e):p(e)}"function"==typeof define&&define.amd?define(function(){return w}):e.md5=w}(mainJs),mainJs.PAGE_SIZE=20,mainJs.publishVer=261,mainJs.MATCH_WAIT=5,mainJs.vars={apiRootURL:"http://192.168.50.110:8081/",imgRootUrl:"http://cdnimg2.edu.euming.com/pkuie",imgUserRootUrl:"http://cdnimg2.edu.euming.com/pkuie/userInfo",resourceURL:"./resource",defaultSvrImg:"./resource/images/defaultImg/serviceB.png",defaultSvrImgs:"./resource/images/defaultImg/service.png",defaultSaiImg:"./resource/images/bigsai.png",defaultActImg:"./resource/images/defaultImg/activeB.png",defaultActImgs:"./resource/images/defaultImg/active.png",defaultCourImg:"./resource/images/defaultImg/courseB.png",defaultCourImgs:"./resource/images/defaultImg/course.png",defaultFundingImg:"./resource/images/defaultImg/fundingB.png",defaultFundingImgs:"./resource/images/defaultImg/funding.png",defaultManImg:"/systemdefault/mobile/man_profile.png",defaultWomenImg:"/systemdefault/mobile/women_profile.png",bigImg:"@480w",defautImg:"",smallImg:"@160w",reloadPage:!1},(isEnableDebug&&location.hostname.search("euming.com")==-1||location.hostname.search("test")>-1)&&(mainJs.vars.apiRootURL="http://192.168.50.110:8081/",mainJs.vars.imgRootUrl="http://cdnimg2.edu.euming.com/pkuie",mainJs.vars.imgUserRootUrl="http://cdnimg2.edu.euming.com/pkuie/userInfo/",$(function(){$.getScript("resource/js/system/beta.js")})),mainJs._getUrl=function(e){return e.join("/").replace(/\/{2,}/g,"/").replace(/:\//,"://")},mainJs.getResourceURL=function(e){return mainJs._getUrl([mainJs.vars.resourceURL,e])},mainJs.getApiUrl=function(e){return mainJs._getUrl([mainJs.vars.apiRootURL,e]).replace("urming_quan","urming_pkuie")},mainJs.getSvrPicUrl=function(e,t){var r;if(null!=e.url&&""!=e.url){e.url=e.url.split(",")[0],r="1"==e.size?mainJs.vars.bigImg:"2"==e.size?mainJs.vars.smallImg:mainJs.vars.defautImg;var a=e.url+r;return mainJs._getUrl([mainJs.vars.imgRootUrl,a])}var a;return a=t?mainJs.vars.defaultSaiImg:"2"==e.size?mainJs.vars.defaultSvrImgs:mainJs.vars.defaultSvrImg},mainJs.getFunPicUrl=function(e){var t;if(null!=e.url&&""!=e.url){e.url=e.url.split(",")[0],t="1"==e.size?mainJs.vars.bigImg:"2"==e.size?mainJs.vars.smallImg:mainJs.vars.defautImg;var r=e.url+t;return mainJs._getUrl([mainJs.vars.imgRootUrl,r])}var r;return r="2"==e.size?mainJs.vars.defaultFundingImgs:mainJs.vars.defaultFundingImg},mainJs.getActPicUrl=function(e){var t;if(null!=e.url&&""!=e.url){e.url=e.url.split(",")[0],"1"==e.size?t=mainJs.vars.bigImg:"2"==e.size?t=mainJs.vars.smallImg:0==e.size&&(t=mainJs.vars.defautImg);var r=e.url+t;return mainJs._getUrl([mainJs.vars.imgRootUrl,r])}var r;return r="2"==e.size?mainJs.vars.defaultActImgs:mainJs.vars.defaultActImg},mainJs.getCoursPicUrl=function(e){var t;if(null!=e.url&&""!=e.url){e.url=e.url.split(",")[0],"1"==e.size?t=mainJs.vars.bigImg:"2"==e.size?t=mainJs.vars.smallImg:0==e.size&&(t=mainJs.vars.defautImg);var r=e.url+t;return mainJs._getUrl([mainJs.vars.imgRootUrl,r])}var r;return r="2"==e.size?mainJs.vars.defaultCourImgs:mainJs.vars.defaultCourImg},$(function(){var e=/pageSize=/,t=/(getInteractionList)|(publishInteraction)/,r=function(r){return!("POST"!=r.type||!e.test(r.data)||t.test(r.url))||!("GET"!=r.type||!e.test(r.url)||t.test(r.url))};$(document).ajaxSend(function(e,t,a){r(a)&&viewJs._maskLoadingMore()}).ajaxComplete(function(e,t,a){r(a)&&viewJs._endLoadingMore()})}),mainJs.getProfilePicUrl=function(e){var t=$.trim(e.url),r="";if(""==t)if(r="","1"==e.sex)t=mainJs.vars.defaultManImg;else{if("2"!=e.sex)return"resource/images/404-user.png";t=mainJs.vars.defaultWomenImg}return mainJs._getUrl([mainJs.vars.imgUserRootUrl,r,t])},mainJs.parseSexToWord=function(e){switch($.trim(e)){case"1":return"man";case"2":return"woman"}return"unknow"},mainJs.watchPosition=function(){var e=null,t={enableHighAccuracy:!0,timeout:4e3};if(window.urmingGeolocation=1,browser.versions.mobile&&window.navigator.geolocation){var r=function(e){if(e&&0==e.status){var t=e.result;dmJs.params.geolocation.city=t.addressComponent.city.replace(/市$/,""),dmJs.params.geolocation.district=t.addressComponent.district,dmJs.params.geolocation.street=t.addressComponent.street,dmJs.params.geolocation.area2=t.addressComponent.area2,dmJs.params.geolocation.area3=t.addressComponent.area3,dmJs.params.geolocation.latitude=t.location.lat,dmJs.params.geolocation.longitude=t.location.lng}viewJs.hideBusyMask("watchPosition")};e=navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,a=[t.latitude,t.longitude].join(","),i="http://api.map.baidu.com/geocoder/v2/?ak=1NdP3HNjGyuesNmTLEK10Gx8&location="+a+"&output=json&pois=0";$.ajax({url:i,dataType:"jsonp",success:r,error:function(){}})},function(){console.log(arguments),console.log("更新地理位置失败！")},t)}else window.navigator.geolocation?viewJs.showPopMsg("对于您的设备暂不支持定位！"):viewJs.showPopMsg("浏览器不支持地理位置！")},mainJs.isPageShow=function(e){return"HTML"==e[0].currentTarget.tagName},mainJs.bindClick=function(){$.mobile.document.on("vclick",".tagIcon",function(){viewJs.clickManuallyEnterIcon(this)}),$.mobile.document.on("vclick",".radioGrp .radioItem:not(.sel)",function(){var e=$(this);e.addClass("sel").siblings(".radioItem").removeClass("sel"),e.is(".person")?e.parents(".vForm").addClass("person").removeClass("enterprise"):e.parents(".vForm").addClass("enterprise").removeClass("person")}),$.mobile.document.on("vclick",".tabHeader .header:not(.current)",function(){var e=$(this),t=e.attr("tabi"),r=e.parents(".tabCtr").find("[tabi="+t+"]"),a=e.parents(".tabCtr").find("[tabi="+(3-t)+"]"),i=(a.end().find("[tabi="+(3-t)+"].content"),a.end().find("[tabi="+t+"].content"));a.removeClass("current"),1==t?i.css({left:"100%"}):i.css({left:"-100%"}),r.addClass("current"),i.animate({left:"0"},{queue:!0}),e.trigger("tabchange")}),$.mobile.document.on("vclick",".vRadioGrp .vRadio:not(.selected)",function(){viewJs.onVRadioChange(this)}),$.mobile.document.on("vclick",".navigateBackBtn",function(){viewJs.navigator.pre()}),$.mobile.document.on("vclick",".toLogin",function(){dmJs.sStore.toLogin({url:"./mine.html"})}),$.mobile.document.on("vclick",".toSearchPage",function(){viewJs.navigator.next({next:{url:"./search.html",id:"doSearchSvr"}})}),$.mobile.document.on("vclick",".svrGrade.isBtn",function(){var e=(mainJs.parseUrlSearch(),$(this)),t=e.data("reviewNumbers"),r=e.data("extra");viewJs.navigator.next({next:{url:"./reviews.html",id:"reviews",options:{data:$.extend({offset:0,pageSize:20,reviewNumbers:t},r)}},lastAuto:!0})})},mainJs.checkHtml5Support=function(){if(!window.localStorage||!window.sessionStorage)return urmingTips.html5NotSpport},mainJs.checkWebStorage=function(){try{return localStorage.setItem("checkWebStorage","a"),void localStorage.removeItem("checkWebStorage")}catch(e){return urmingTips.webStorageLimit}},mainJs.checkSupport=function(){var e=mainJs.checkHtml5Support();return e||(e=mainJs.checkWebStorage()),!e||(viewJs.dialogPop(e,null,"错误",{onlyBtnOk:!0,front:!0}),!1)},mainJs.isPageBeforeShow=function(e){return"DIV"==e.tagName},$(document).on("mobileinit",function(){$.mobile.pageLoadErrorMessage="页面加载失败",$.event.special.swipe.horizontalDistanceThreshold=5,$.event.special.swipe.durationThreshold=500,$.mobile.page.prototype.options.domCache=!1,$.getJs({varName:"notifyJs",ns:window,ajaxOpt:{success:function(){notifyJs.init()}},url:mainJs.getResourceURL("/js/system/notify.js")+"?ver="+mainJs.publishVer});var e=$("<input>");$.mobile.document.on("pagebeforehide","*",function(){$.mobile.document.unbind("vclick"),e.focus()}),$.mobile.document.on("pageshow","*",function(e,t){$.mobile.document.unbind("vclick"),mainJs.isPageShow(arguments)&&(setTimeout(mainJs.bindClick,500),viewJs.maskBusy(null,"pagechange"))}),$.mobile.document.on("pageshow","*",function(){mainJs.checkSupport()&&viewJs.hideBusyMask("pagechange")});var t=function(){viewJs.loadJs({varName:"headerFooterJs",url:"/js/common/headerFooter.js",title:"页眉页脚"});var e=$.mobile.activePage;e.is(".ui-page")&&viewJs.renderPage(e.attr("id"))};$.mobile.document.on("pagebeforeshow","*",function(){if(mainJs.isPageBeforeShow(this)){var e=browser.versions,r=[];for(var a in e)1==e[a]&&r.push("urming-"+a);r=r.join(" "),$(document.body).addClass(r),e.iosMobile&&$.mobile.activePage.find("file").attr("camera",null),dmJs.sStore.getLoginUser(t);
}})}),mainJs.parseUrlSearch=function(e){for(var t,r,a=decodeURIComponent(e||location.search).replace(/^.*\?/,"").split("&"),i=a.length,s=0,n={};s<i;s++)t=a[s],r=t.indexOf("="),r==-1&&(r=t.length),n[$.trim(t.substring(0,r))]=$.trim(t.substring(r+1));return n},mainJs.parseUrlSearchTop=function(e){for(var t,r,a=decodeURIComponent(e||window.top.location.search).replace(/^.*\?/,"").split("&"),i=a.length,s=0,n={};s<i;s++)t=a[s],r=t.indexOf("="),r==-1&&(r=t.length),n[$.trim(t.substring(0,r))]=$.trim(t.substring(r+1));return n},mainJs.getPos=function(){null==window.urmingGeolocation&&mainJs.watchPosition()},mainJs.encode=function(e){return Base64.encode(encodeURIComponent(e))},mainJs.decode=function(e){return decodeURIComponent(Base64.decode(e))},$(function(){$(document).on("scrollstop",function(e){var t=$(this).scrollTop(),r=$.mobile.activePage;if(null!=r){var a=$("#toTop");a.length>0&&(t>2?a.show():a.hide())}})});